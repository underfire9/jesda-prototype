(function(t){function e(e){for(var s,r,l=e[0],o=e[1],c=e[2],u=0,p=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={formEditor:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=o;n.push([1,"chunk-vendors"]),a()})({"00ff":function(t,e,a){},1:function(t,e,a){t.exports=a("55f5")},"54b1":function(t,e,a){"use strict";a("00ff")},"55f5":function(t,e,a){"use strict";a.r(e);a("7db0"),a("a434"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"form_editor"}},[a("button",{staticClass:"btn btn-primary btn-sm waves-effect waves-light form_editor_save",attrs:{type:"button"},on:{click:t.saveEditor}},[t._v("儲存")]),a("div",{staticClass:"row form_editor_row"},[a("div",{staticClass:"col-3 side_element"},[a("ul",{staticClass:"nav nav-tabs mb-0 form_edite_nav"},[a("li",{staticClass:"nav-item",on:{click:function(e){return t.changeContnet("insert")}}},[a("a",{staticClass:"nav-link",class:{active:"insert"==t.contentType}},[t._v("新增欄位")])]),t.defaultEditContents.length>0?a("li",{staticClass:"nav-item",on:{click:function(e){return t.changeContnet("edit")}}},[a("a",{staticClass:"nav-link",class:{active:"edit"==t.contentType}},[t._v("現有欄位")])]):t._e()]),a("div",{staticClass:"col-block side_element_block"},["insert"==t.contentType?a("div",{staticClass:"block-content"},[a("div",{staticClass:"mt-0 md-form md-outline input-with-post-icon search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchWords,expression:"searchWords"}],staticClass:"form-control rounded",attrs:{type:"search",placeholder:"搜尋元件","aria-label":"Search","aria-describedby":"search-addon"},domProps:{value:t.searchWords},on:{input:function(e){e.target.composing||(t.searchWords=e.target.value)}}}),a("i",{staticClass:"fa fa-search input-prefix"})]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.insertType,expression:"insertType"}],staticClass:"md-form md-outline browser-default custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.insertType=e.target.multiple?a:a[0]}}},t._l(t.insertTypeList,(function(e,s){return a("option",{key:s,domProps:{value:e.value}},[t._v(t._s(e.label))])})),0),a("draggable",{staticClass:"dragArea list-group insert-area",attrs:{list:t.filterInsertContents,group:{name:"editor",pull:"clone",put:!1},clone:t.onClone,sort:!1,draggable:".addable"},on:{change:t.log}},t._l(t.filterInsertContents,(function(e,s){return a("div",{key:s,staticClass:"list-group-item",class:{addable:0!=e.addable,disabled:0==e.addable}},[a("div",{staticClass:"list-group-inner"},[a("div",{staticClass:"group-hd"},[a("i",{staticClass:"fa fa-cog"}),a("span",[t._v(t._s(e.label.CH))])]),e.insertDes?a("span",{staticClass:"tooltip-area",attrs:{"data-toggle":"tooltip",title:e.insertDes}}):t._e()])])})),0)],1):a("div",{staticClass:"block-content"},[a("div",{staticClass:"mt-0 md-form md-outline input-with-post-icon search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchWords,expression:"searchWords"}],staticClass:"form-control rounded",attrs:{type:"search",placeholder:"搜尋元件","aria-label":"Search","aria-describedby":"search-addon"},domProps:{value:t.searchWords},on:{input:function(e){e.target.composing||(t.searchWords=e.target.value)}}}),a("i",{staticClass:"fa fa-search input-prefix"})]),a("draggable",{staticClass:"dragArea list-group insert-area",attrs:{list:t.filterEditContents,group:{name:"editor",pull:"clone",put:!1},clone:t.onClone,sort:!1,draggable:".addable"},on:{change:t.log}},t._l(t.filterEditContents,(function(e,s){return a("div",{key:s,staticClass:"list-group-item",class:{addable:0!=e.addable,disabled:0==e.addable}},[a("div",{staticClass:"list-group-inner"},[a("div",{staticClass:"group-hd"},[a("i",{staticClass:"fa fa-cog"}),a("span",[t._v(t._s(e.label.CH))])]),e.insertDes?a("span",{staticClass:"tooltip-area",attrs:{"data-toggle":"tooltip",title:e.insertDes}}):t._e()])])})),0)],1)])]),a("div",{staticClass:"col-6 edit_area"},[a("ul",{staticClass:"nav nav-tabs mb-0 form_edite_nav"},t._l(t.enumData.langs,(function(e,s){return a("li",{key:s,staticClass:"nav-item",on:{click:function(a){return t.changeI18n(e.key)}}},[a("a",{staticClass:"nav-link",class:{active:t.i18n==e.key}},[t._v(" "+t._s(e.label)+" ")])])})),0),a("draggable",{staticClass:"edit-container",on:{change:t.log},model:{value:t.defaultContents,callback:function(e){t.defaultContents=e},expression:"defaultContents"}},t._l(t.defaultContents,(function(e,s){return a("div",{key:s,staticClass:"col-block edit_area_block"},[a("div",{staticClass:"block-header has-border",on:{dblclick:function(a){return t.editContent(e)}}},[a("h3",[a("strong",[t._v(t._s(e.label[t.i18n]))]),e.des&&e.des[t.i18n]?a("small",{staticClass:"form-text text-muted"},[t._v(t._s(e.des[t.i18n]))]):t._e()]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeAt(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"block-content"},[a("form",[a("draggable",{staticClass:"dragArea list-group",attrs:{list:e.items,group:"editor"},on:{change:t.log,add:function(e){return t.onAdd(s,e)}}},t._l(e.items,(function(e,i){return a("div",{key:i,staticClass:"form-group",class:{"edit-active":e.editorEnable},on:{dblclick:function(a){return t.editContent(e,s,i)}}},[e.editorEnable&&0!=e.setting.removeable?a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeAt(s,i)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]):t._e(),e.setting&&e.setting.require?a("span",{staticClass:"form-request"},[t._v("*")]):t._e(),"des"!=e.type&&0!=e.setting.showTitle?a("label",{attrs:{for:"content"+s+"_"+i}},[t._v(t._s(e.label[t.i18n]))]):t._e(),"des"==e.type?a("div",{domProps:{innerHTML:t._s(e.content)}}):"text"==e.type?a("input",{staticClass:"form-control",class:e.setting.width||"col-md-12",attrs:{id:"content"+s+"_"+i,minlength:e.setting.min,maxlength:e.setting.max,placeholder:e.setting.placeholder&&e.setting.placeholder[t.i18n]},domProps:{value:e.value&&e.value[t.i18n]}}):"textarea"==e.type?a("textarea",{staticClass:"form-control",class:e.setting.width||"col-md-12",attrs:{id:"content"+s+"_"+i,minlength:e.setting.min,maxlength:e.setting.max,rows:e.setting.rows,placeholder:e.setting.placeholder&&e.setting.placeholder[t.i18n]},domProps:{value:e.value&&e.value[t.i18n]}}):t._e(),"email"==e.type?a("input",{staticClass:"form-control",class:e.setting.width||"col-md-12",attrs:{type:"email",id:"content"+s+"_"+i,placeholder:e.setting.placeholder&&e.setting.placeholder[t.i18n]},domProps:{value:e.value&&e.value[t.i18n]}}):t._e(),"number"==e.type?a("input",{staticClass:"form-control",class:e.setting.width||"col-md-12",attrs:{type:"number",id:"content"+s+"_"+i,min:e.setting.min,max:e.setting.max,step:e.setting.step,placeholder:e.setting.placeholder&&e.setting.placeholder[t.i18n]},domProps:{value:e.value}}):"datepicker"==e.type?a("div",{staticClass:"row"},[a("div",{class:e.setting.width||"col-md-12"},[a("datepicker",{attrs:{value:e.date,placeholder:e.setting.placeholder&&e.setting.placeholder[t.i18n]}})],1)]):"datepicker_age"==e.type?a("div",{staticClass:"row"},[a("div",{staticClass:"datepicker_age",class:e.setting.width||"col-md-12"},[a("datepicker",{attrs:{value:e.date,placeholder:e.setting.placeholder&&e.setting.placeholder[t.i18n]}}),a("span",[t._v("20 歲")])],1)]):"datetimepicker"==e.type?a("div",{staticClass:"row"},[a("div",{class:e.setting.width||"col-md-12"},[a("datetimepicker",{attrs:{value:e.datetime,placeholder:e.setting.placeholder&&e.setting.placeholder[t.i18n]}})],1)]):"select"==e.type?a("select",{staticClass:"browser-default custom-select",class:e.setting.width||"col-md-12",attrs:{id:"content"+s+"_"+i}},[e.setting.showPlaceholder?a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(e.setting.placeholder[t.i18n]))]):t._e(),t._l(e.options,(function(e,s){return a("option",{key:s,domProps:{value:e.value}},[t._v(t._s(e.label))])}))],2):"radio"==e.type?a("div",{class:e.setting.width||"col-md-12"},t._l(e.options,(function(s,n){return a("div",{key:n,staticClass:"form-check",class:{"form-inline":!e.setting.inline,"custom-control-inline":e.setting.inline,"mb-4":s.des}},[a("input",{staticClass:"form-check-input",attrs:{type:"radio",id:"option_radio_"+i+"_"+n,name:"radio_"+i},domProps:{value:s.value}}),a("label",{staticClass:"form-check-label",attrs:{for:"option_radio_"+i+"_"+n}},[t._v(t._s(s.label))]),s.des?a("input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"text"}}):t._e()])})),0):"multiple_select"==e.type?a("select",{staticClass:"form-control browser-default",class:e.setting.width||"col-md-12",attrs:{id:"content"+s+"_"+i,multiple:""}},[e.setting.showPlaceholder?a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(t._s(e.setting.placeholder[t.i18n]))]):t._e(),t._l(e.options,(function(e,s){return a("option",{key:s,domProps:{value:e.value}},[t._v(t._s(e.label))])}))],2):"checkbox"==e.type?a("div",{class:e.setting.width||"col-md-12"},t._l(e.options,(function(s,n){return a("div",{key:n,staticClass:"form-check",class:{"form-inline":!e.setting.inline,"custom-control-inline":e.setting.inline,"mb-4":s.des}},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"option_checkbox_"+i+"_"+n,name:"checkbox_"+i},domProps:{value:s.value}}),a("label",{staticClass:"form-check-label",attrs:{for:"option_checkbox_"+i+"_"+n}},[t._v(t._s(s.label))]),s.des?a("input",{staticClass:"form-control form-control-sm ml-2",attrs:{type:"text"}}):t._e()])})),0):"file_upload"==e.type?a("div",[a("input",{staticClass:"form-control-file disable-click",attrs:{accept:"."+e.setting.accept.join(",."),type:"file"}}),e.file?a("button",{staticClass:"ml-0 btn btn-primary btn-sm waves-effect waves-light",attrs:{type:"button"},on:{click:function(a){return t.downloadFile(e.file)}}},[a("i",{staticClass:"fa fa-download mr-1"}),t._v(" 範本下載 ")]):t._e()]):"file_download"==e.type?a("div",[e.des&&e.des[t.i18n]?a("small",{staticClass:"form-text text-muted"},[t._v(t._s(e.des[t.i18n]))]):t._e(),a("button",{staticClass:"ml-0 btn btn-primary btn-sm waves-effect waves-light",attrs:{type:"button"},on:{click:function(a){return t.downloadFile(e.file)}}},[a("i",{staticClass:"fa fa-download mr-1"}),t._v(" 檔案下載 ")])]):"address"==e.type?a("div",{staticClass:"form-row"},[a("div",{staticClass:"col-4 mb-3"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"CH"==t.i18n?"郵遞區號":"Zip Code"}})]),a("div",{staticClass:"col-8 mb-3"},[a("select",{staticClass:"browser-default custom-select"},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(" "+t._s("CH"==t.i18n?"請選擇國家":"Please Select Country")+" ")]),a("option",{attrs:{value:"1"}},[t._v("One")]),a("option",{attrs:{value:"2"}},[t._v("Two")]),a("option",{attrs:{value:"3"}},[t._v("Three")])])]),a("div",{staticClass:"col-4"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"CH"==t.i18n?"城市":"City"}})]),a("div",{staticClass:"col-8"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"CH"==t.i18n?"地址":"Address"}})])]):"table"==e.type?a("div",[e.setting.addable?a("button",{staticClass:"ml-0 btn btn-default btn-sm waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button"}},[t._v("新增")]):t._e(),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[a("thead",{staticClass:"grey lighten-3"},[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"50px",width:"50px"}},[t._v("#")]),e.setting.editable?a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px",width:"110px"}},[t._v("操作")]):t._e(),t._l(t.listDatas[e.tableSn].columns,(function(e,s){return a("th",{key:s,staticClass:"text-center"},[t._v(t._s(e.label))])}))],2)]),a("tbody",t._l(t.listDatas[e.tableSn].datas,(function(s,i){return a("tr",{key:i},[a("td",[t._v(t._s(i+1))]),e.setting.editable?a("td",{staticClass:"text-center"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button","data-original-title":"Edit Client"}},[a("i",{staticClass:"fa fa-pencil"})]),a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button","data-original-title":"Remove Client"}},[a("i",{staticClass:"fa fa-times"})])])]):t._e(),t._l(s,(function(e,s){return a("td",{key:s,staticClass:"text-center"},[t._v(t._s(e))])}))],2)})),0)])])]):t._e(),a("customComponents",{ref:"customComponents",refInFor:!0,attrs:{type:"edit",i18n:t.i18n,content:e}}),e.des&&e.des[t.i18n]&&0!=e.setting.showDes?a("small",{staticClass:"form-text text-muted"},[t._v(t._s(e.des[t.i18n]))]):t._e()],1)})),0)],1)])])})),0),a("button",{staticClass:"btn btn-light-blue btn-lg btn-block waves-effect waves-light mt-20",attrs:{type:"button"},on:{click:t.addDIV}},[t._v("建立 DIV 區塊")])],1),a("div",{staticClass:"col-3 side_field"},[a("div",{staticClass:"col-block side_field_bloxk"},[t._m(0),a("div",{staticClass:"block-content edit-area"},[0!=Object.keys(t.currentEdit).length&&"des"!=t.currentEdit.type?a("form",[0!=t.currentEdit.setting.showTitle?t._l(t.enumData.langs,(function(e,s){return a("div",{key:"標題"+s,staticClass:"form-group"},[a("label",{attrs:{for:"label_"+e.key}},[t._v("標題"+t._s(e.label))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.label[e.key],expression:"currentEdit.label[lang.key]"}],staticClass:"form-control form-control-sm",attrs:{id:"label_"+e.key},domProps:{value:t.currentEdit.label[e.key]},on:{input:function(a){a.target.composing||t.$set(t.currentEdit.label,e.key,a.target.value)}}})])})):t._e(),0!=t.currentEdit.setting.showDes?t._l(t.enumData.langs,(function(e,s){return a("div",{key:"說明"+s,staticClass:"form-group"},[a("label",{attrs:{for:"des_"+e.key}},[t._v("說明"+t._s(e.label))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.des[e.key],expression:"currentEdit.des[lang.key]"}],staticClass:"form-control form-control-sm",attrs:{id:"des_"+e.key,rows:"3"},domProps:{value:t.currentEdit.des[e.key]},on:{input:function(a){a.target.composing||t.$set(t.currentEdit.des,e.key,a.target.value)}}})])})):t._e(),t.editDiv?t._e():["textarea"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"textarea_rows"}},[t._v("行數")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.rows,expression:"currentEdit.setting.rows"}],staticClass:"form-control form-control-sm",attrs:{id:"textarea_rows"},domProps:{value:t.currentEdit.setting.rows},on:{input:function(e){e.target.composing||t.$set(t.currentEdit.setting,"rows",e.target.value)}}})]):t._e(),"text"==t.currentEdit.type||"textarea"==t.currentEdit.type||"email"==t.currentEdit.type||"number"==t.currentEdit.type||"datepicker"==t.currentEdit.type||"datepicker_age"==t.currentEdit.type||"datetimepicker"==t.currentEdit.type?["datepicker"==t.currentEdit.type||"datepicker_age"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"placeholer"}},[t._v("預設資料")]),a("datepicker",{model:{value:t.currentEdit.date,callback:function(e){t.$set(t.currentEdit,"date",e)},expression:"currentEdit.date"}})],1):"datetimepicker"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"placeholer"}},[t._v("預設資料")]),a("datetimepicker",{model:{value:t.currentEdit.datetime,callback:function(e){t.$set(t.currentEdit,"datetime",e)},expression:"currentEdit.datetime"}})],1):"number"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"placeholer"}},[t._v("預設資料")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.value,expression:"currentEdit.value"}],staticClass:"form-control form-control-sm",attrs:{id:"placeholer"},domProps:{value:t.currentEdit.value},on:{input:function(e){e.target.composing||t.$set(t.currentEdit,"value",e.target.value)}}})]):a("div",t._l(t.enumData.langs,(function(e,s){return a("div",{key:"預設資料"+s,staticClass:"form-group"},[a("label",{attrs:{for:"value_ch"}},[t._v("預設資料"+t._s(e.label))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.value[e.key],expression:"currentEdit.value[lang.key]"}],staticClass:"form-control form-control-sm",attrs:{id:"value_ch"},domProps:{value:t.currentEdit.value[e.key]},on:{input:function(a){a.target.composing||t.$set(t.currentEdit.value,e.key,a.target.value)}}})])})),0),t._l(t.enumData.langs,(function(e,s){return a("div",{key:"提示文字"+s,staticClass:"form-group"},[a("label",{attrs:{for:"placeholer_ch"}},[t._v("提示文字"+t._s(e.label))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.placeholder[e.key],expression:"currentEdit.setting.placeholder[lang.key]"}],staticClass:"form-control form-control-sm",attrs:{id:"placeholer_ch"},domProps:{value:t.currentEdit.setting.placeholder[e.key]},on:{input:function(a){a.target.composing||t.$set(t.currentEdit.setting.placeholder,e.key,a.target.value)}}})])}))]:t._e(),"text"==t.currentEdit.type||"textarea"==t.currentEdit.type||"email"==t.currentEdit.type||"number"==t.currentEdit.type||"datepicker"==t.currentEdit.type||"datepicker_age"==t.currentEdit.type||"datetimepicker"==t.currentEdit.type||"datetimepicker"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",[t._v("欄位，寬度佔表單寬度的比例")]),a("div",{staticClass:"custom-control form-check custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.width,expression:"currentEdit.setting.width"}],staticClass:"form-check-input",attrs:{value:"col-md-12",type:"radio",id:"width100",name:"formwidth"},domProps:{checked:t._q(t.currentEdit.setting.width,"col-md-12")},on:{change:function(e){return t.$set(t.currentEdit.setting,"width","col-md-12")}}}),a("label",{staticClass:"form-check-label",attrs:{for:"width100"}},[t._v("100%")])]),a("div",{staticClass:"custom-control form-check custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.width,expression:"currentEdit.setting.width"}],staticClass:"form-check-input",attrs:{value:"col-md-8",type:"radio",id:"width75",name:"formwidth"},domProps:{checked:t._q(t.currentEdit.setting.width,"col-md-8")},on:{change:function(e){return t.$set(t.currentEdit.setting,"width","col-md-8")}}}),a("label",{staticClass:"form-check-label",attrs:{for:"width75"}},[t._v("75%")])]),a("div",{staticClass:"custom-control form-check custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.width,expression:"currentEdit.setting.width"}],staticClass:"form-check-input",attrs:{value:"col-md-6",type:"radio",id:"width50",name:"formwidth"},domProps:{checked:t._q(t.currentEdit.setting.width,"col-md-6")},on:{change:function(e){return t.$set(t.currentEdit.setting,"width","col-md-6")}}}),a("label",{staticClass:"form-check-label",attrs:{for:"width50"}},[t._v("50%")])]),a("div",{staticClass:"custom-control form-check custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.width,expression:"currentEdit.setting.width"}],staticClass:"form-check-input",attrs:{value:"col-md-3",type:"radio",id:"width25",name:"formwidth"},domProps:{checked:t._q(t.currentEdit.setting.width,"col-md-3")},on:{change:function(e){return t.$set(t.currentEdit.setting,"width","col-md-3")}}}),a("label",{staticClass:"form-check-label",attrs:{for:"width25"}},[t._v("25%")])])]):t._e(),"table"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",[t._v("列表")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.tableSn,expression:"currentEdit.tableSn"}],staticClass:"browser-default custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.currentEdit,"tableSn",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("請選擇列表")]),t._l(t.listDatas,(function(e,s){return a("option",{key:s,domProps:{value:s}},[t._v(t._s(e.name))])}))],2)]):t._e(),0!=t.currentEdit.setting.showSetting?a("div",{staticClass:"form-group"},[a("label",[t._v("欄位選項")]),a("div",[t._l(t.filterSettings,(function(e,s){return a("div",{key:"欄位選項"+s,staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting[e.key],expression:"currentEdit.setting[setting.key]"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"setting_"+e.key},domProps:{checked:Array.isArray(t.currentEdit.setting[e.key])?t._i(t.currentEdit.setting[e.key],null)>-1:t.currentEdit.setting[e.key]},on:{change:function(a){var s=t.currentEdit.setting[e.key],i=a.target,n=!!i.checked;if(Array.isArray(s)){var r=null,l=t._i(s,r);i.checked?l<0&&t.$set(t.currentEdit.setting,e.key,s.concat([r])):l>-1&&t.$set(t.currentEdit.setting,e.key,s.slice(0,l).concat(s.slice(l+1)))}else t.$set(t.currentEdit.setting,e.key,n)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"setting_"+e.key}},[t._v(t._s(e.label))])])})),"table"==t.currentEdit.type?a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.editable,expression:"currentEdit.setting.editable"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"defaultCheck5"},domProps:{checked:Array.isArray(t.currentEdit.setting.editable)?t._i(t.currentEdit.setting.editable,null)>-1:t.currentEdit.setting.editable},on:{change:function(e){var a=t.currentEdit.setting.editable,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&t.$set(t.currentEdit.setting,"editable",a.concat([n])):r>-1&&t.$set(t.currentEdit.setting,"editable",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.currentEdit.setting,"editable",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"defaultCheck5"}},[t._v("可編輯")])]):t._e(),"table"==t.currentEdit.type?a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.addable,expression:"currentEdit.setting.addable"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"defaultCheck6"},domProps:{checked:Array.isArray(t.currentEdit.setting.addable)?t._i(t.currentEdit.setting.addable,null)>-1:t.currentEdit.setting.addable},on:{change:function(e){var a=t.currentEdit.setting.addable,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&t.$set(t.currentEdit.setting,"addable",a.concat([n])):r>-1&&t.$set(t.currentEdit.setting,"addable",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.currentEdit.setting,"addable",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"defaultCheck6"}},[t._v("可新增")])]):t._e()],2)]):t._e(),"radio"==t.currentEdit.type||"checkbox"==t.currentEdit.type?[a("label",[t._v("選項排列方式")]),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.inline,expression:"currentEdit.setting.inline"}],staticClass:"form-check-input",attrs:{type:"radio",id:"display_inline",name:"display"},domProps:{value:!1,checked:t._q(t.currentEdit.setting.inline,!1)},on:{change:[function(e){return t.$set(t.currentEdit.setting,"inline",!1)},t.checkInline]}}),a("label",{staticClass:"form-check-label",attrs:{for:"display_inline"}},[t._v("垂直排列")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.inline,expression:"currentEdit.setting.inline"}],staticClass:"form-check-input",attrs:{type:"radio",id:"display_block",name:"display"},domProps:{value:!0,checked:t._q(t.currentEdit.setting.inline,!0)},on:{change:[function(e){return t.$set(t.currentEdit.setting,"inline",!0)},t.checkInline]}}),a("label",{staticClass:"form-check-label",attrs:{for:"display_block"}},[t._v('水平排列 (若下方任一選項勾選"輸入說明"自動改為垂直排列)')])])]:t._e(),"select"==t.currentEdit.type||"multiple_select"==t.currentEdit.type||"radio"==t.currentEdit.type||"checkbox"==t.currentEdit.type?[a("label",[t._v("選項")]),a("div",{staticClass:"form-group"},["select"==t.currentEdit.type?a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.showPlaceholder,expression:"currentEdit.setting.showPlaceholder"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"placeholder"},domProps:{checked:Array.isArray(t.currentEdit.setting.showPlaceholder)?t._i(t.currentEdit.setting.showPlaceholder,null)>-1:t.currentEdit.setting.showPlaceholder},on:{change:function(e){var a=t.currentEdit.setting.showPlaceholder,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&t.$set(t.currentEdit.setting,"showPlaceholder",a.concat([n])):r>-1&&t.$set(t.currentEdit.setting,"showPlaceholder",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.currentEdit.setting,"showPlaceholder",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"placeholder"}},[t._v("包含未選選項，請輸入未選擇時顯示的文字，可以是空白。")])]):t._e()]),"select"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.placeholder.CH,expression:"currentEdit.setting.placeholder.CH"}],staticClass:"form-control form-control-sm",domProps:{value:t.currentEdit.setting.placeholder.CH},on:{input:function(e){e.target.composing||t.$set(t.currentEdit.setting.placeholder,"CH",e.target.value)}}})]):t._e(),a("div",{staticClass:"form-group"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[a("thead",{staticClass:"grey lighten-3"},[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"120px",width:"120px"}},[t._v("索引")]),a("th",{staticClass:"text-center"},[t._v("選項文字")]),"radio"==t.currentEdit.type||"checkbox"==t.currentEdit.type?a("th",{staticClass:"text-center"},[t._v("輸入說明")]):t._e(),a("th",{staticClass:"text-center"})])]),a("tbody",t._l(t.currentEdit.options,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"option.value"}],staticClass:"form-control form-control-sm",domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",a.target.value)}}})]),a("td",{staticClass:"text-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"option.label"}],staticClass:"form-control form-control-sm",domProps:{value:e.label},on:{input:function(a){a.target.composing||t.$set(e,"label",a.target.value)}}})]),"radio"==t.currentEdit.type||"checkbox"==t.currentEdit.type?a("td",{staticClass:"text-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.des,expression:"option.des"}],staticClass:"form-check-input",attrs:{id:"options_des_"+s,type:"checkbox"},domProps:{checked:Array.isArray(e.des)?t._i(e.des,null)>-1:e.des},on:{change:[function(a){var s=e.des,i=a.target,n=!!i.checked;if(Array.isArray(s)){var r=null,l=t._i(s,r);i.checked?l<0&&t.$set(e,"des",s.concat([r])):l>-1&&t.$set(e,"des",s.slice(0,l).concat(s.slice(l+1)))}else t.$set(e,"des",n)},t.checkInline]}}),a("label",{staticClass:"form-check-label",attrs:{for:"options_des_"+s}})]):t._e(),a("td",{staticClass:"text-center"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button",disabled:0==s},on:{click:function(e){return t.$upOption(t.currentEdit.options,s)}}},[a("i",{staticClass:"fa fa-chevron-up"})]),a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button",disabled:s==t.currentEdit.options.length-1},on:{click:function(e){return t.$downOption(t.currentEdit.options,s)}}},[a("i",{staticClass:"fa fa-chevron-down"})]),a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.$removeOption(t.currentEdit.options,s)}}},[a("i",{staticClass:"fa fa-times"})])])])])})),0)])]),a("button",{staticClass:"ml-0 btn btn-default btn-sm waves-effect waves-light",attrs:{"data-toggle":"tooltip",type:"button"},on:{click:t.addOption}},[t._v("新增項目")])])]:t._e(),"text"==t.currentEdit.type||"textarea"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",[t._v("資料格式及檢查")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"input_min"}},[t._v("最少字數")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.min,expression:"currentEdit.setting.min"}],staticClass:"form-control form-control-sm",attrs:{type:"number",id:"input_min",min:"0"},domProps:{value:t.currentEdit.setting.min},on:{input:function(e){e.target.composing||t.$set(t.currentEdit.setting,"min",e.target.value)}}})])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"input_max"}},[t._v("最多字數")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.max,expression:"currentEdit.setting.max"}],staticClass:"form-control form-control-sm",attrs:{type:"number",id:"input_max",min:"0"},domProps:{value:t.currentEdit.setting.max},on:{input:function(e){e.target.composing||t.$set(t.currentEdit.setting,"max",e.target.value)}}})])])])]):t._e(),"number"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",[t._v("資料格式及檢查")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("label",{attrs:{for:"input_step"}},[t._v("小數點位數")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.step,expression:"currentEdit.setting.step"}],staticClass:"browser-default custom-select form-control-sm",attrs:{id:"input_step"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.currentEdit.setting,"step",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("0")]),a("option",{attrs:{value:"0.1"}},[t._v("1")]),a("option",{attrs:{value:"0.01"}},[t._v("2")]),a("option",{attrs:{value:"0.001"}},[t._v("3")])])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"input_min"}},[t._v("最小值")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.min,expression:"currentEdit.setting.min"}],staticClass:"form-control form-control-sm",attrs:{type:"number",id:"input_min"},domProps:{value:t.currentEdit.setting.min},on:{input:function(e){e.target.composing||t.$set(t.currentEdit.setting,"min",e.target.value)}}})])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"input_max"}},[t._v("最大值")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.max,expression:"currentEdit.setting.max"}],staticClass:"form-control form-control-sm",attrs:{type:"number",id:"input_max"},domProps:{value:t.currentEdit.setting.max},on:{input:function(e){e.target.composing||t.$set(t.currentEdit.setting,"max",e.target.value)}}})])])])]):t._e(),"file_download"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",[t._v("上傳下載檔案")]),a("br"),t.currentEdit.file?a("button",{staticClass:"ml-0 btn btn-primary btn-sm waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.downloadFile(t.currentEdit.file)}}},[a("i",{staticClass:"fa fa-download mr-1"}),t._v(" 檔案預覽 ")]):t._e(),a("input",{staticClass:"form-control-file",attrs:{type:"file"},on:{change:t.uploadFile}})]):t._e(),"file_upload"==t.currentEdit.type?a("div",[a("div",{staticClass:"form-group"},[a("label",[t._v("上傳檔案格式限制")]),a("div",[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.accept,expression:"currentEdit.setting.accept"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"pdf",id:"upload_pdf"},domProps:{checked:Array.isArray(t.currentEdit.setting.accept)?t._i(t.currentEdit.setting.accept,"pdf")>-1:t.currentEdit.setting.accept},on:{change:function(e){var a=t.currentEdit.setting.accept,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n="pdf",r=t._i(a,n);s.checked?r<0&&t.$set(t.currentEdit.setting,"accept",a.concat([n])):r>-1&&t.$set(t.currentEdit.setting,"accept",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.currentEdit.setting,"accept",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"upload_pdf"}},[t._v("PDF")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.accept,expression:"currentEdit.setting.accept"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"doc",id:"upload_doc"},domProps:{checked:Array.isArray(t.currentEdit.setting.accept)?t._i(t.currentEdit.setting.accept,"doc")>-1:t.currentEdit.setting.accept},on:{change:function(e){var a=t.currentEdit.setting.accept,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n="doc",r=t._i(a,n);s.checked?r<0&&t.$set(t.currentEdit.setting,"accept",a.concat([n])):r>-1&&t.$set(t.currentEdit.setting,"accept",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.currentEdit.setting,"accept",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"upload_doc"}},[t._v("DOC")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.accept,expression:"currentEdit.setting.accept"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"docx",id:"upload_docx"},domProps:{checked:Array.isArray(t.currentEdit.setting.accept)?t._i(t.currentEdit.setting.accept,"docx")>-1:t.currentEdit.setting.accept},on:{change:function(e){var a=t.currentEdit.setting.accept,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n="docx",r=t._i(a,n);s.checked?r<0&&t.$set(t.currentEdit.setting,"accept",a.concat([n])):r>-1&&t.$set(t.currentEdit.setting,"accept",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.currentEdit.setting,"accept",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"upload_docx"}},[t._v("DOCX")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.accept,expression:"currentEdit.setting.accept"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"odt",id:"upload_odt"},domProps:{checked:Array.isArray(t.currentEdit.setting.accept)?t._i(t.currentEdit.setting.accept,"odt")>-1:t.currentEdit.setting.accept},on:{change:function(e){var a=t.currentEdit.setting.accept,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n="odt",r=t._i(a,n);s.checked?r<0&&t.$set(t.currentEdit.setting,"accept",a.concat([n])):r>-1&&t.$set(t.currentEdit.setting,"accept",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.currentEdit.setting,"accept",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"upload_odt"}},[t._v("ODT")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.accept,expression:"currentEdit.setting.accept"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"jpg",id:"upload_jpg"},domProps:{checked:Array.isArray(t.currentEdit.setting.accept)?t._i(t.currentEdit.setting.accept,"jpg")>-1:t.currentEdit.setting.accept},on:{change:function(e){var a=t.currentEdit.setting.accept,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n="jpg",r=t._i(a,n);s.checked?r<0&&t.$set(t.currentEdit.setting,"accept",a.concat([n])):r>-1&&t.$set(t.currentEdit.setting,"accept",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.currentEdit.setting,"accept",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"upload_jpg"}},[t._v("JPG")])]),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.accept,expression:"currentEdit.setting.accept"}],staticClass:"form-check-input",attrs:{type:"checkbox",value:"png",id:"upload_png"},domProps:{checked:Array.isArray(t.currentEdit.setting.accept)?t._i(t.currentEdit.setting.accept,"png")>-1:t.currentEdit.setting.accept},on:{change:function(e){var a=t.currentEdit.setting.accept,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n="png",r=t._i(a,n);s.checked?r<0&&t.$set(t.currentEdit.setting,"accept",a.concat([n])):r>-1&&t.$set(t.currentEdit.setting,"accept",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.currentEdit.setting,"accept",i)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"upload_png"}},[t._v("PNG")])])]),a("label",[t._v("上傳大小限制 20 MB (由系統統一設定)")])]),a("div",{staticClass:"form-group"},[a("label",[t._v("範例檔案")]),a("br"),t.currentEdit.file?a("button",{staticClass:"ml-0 btn btn-primary btn-sm waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.downloadFile(t.currentEdit.file)}}},[a("i",{staticClass:"fa fa-download mr-1"}),t._v(" 檔案預覽 ")]):t._e(),a("input",{staticClass:"form-control-file",attrs:{type:"file"},on:{change:t.uploadFile}})])]):t._e(),t.rulesTypeArray.includes(t.currentEdit.type)?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"checkData"}},[t._v("資料檢查")]),a("small",{staticClass:"text-muted"},[t._v("空白則不檢查")]),a("br"),a("button",{staticClass:"ml-0 btn btn-default btn-sm waves-effect waves-light",attrs:{"data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.$editModal("rules",t.rulesInit,"new")}}},[t._v("新增檢查")]),a("div",{staticClass:"form-control",staticStyle:{"min-height":"120px"}},t._l(t.currentEdit.rules,(function(e,s){return a("div",{key:s},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button","data-original-title":"Edit Client"},on:{click:function(e){return t.$editModal("rules",t.rulesInit,s)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button","data-original-title":"Remove Client"},on:{click:function(e){return t.$removeOption(t.currentEdit.rules,s)}}},[a("i",{staticClass:"fa fa-times"})])]),a("label",[t._v(t._s(t.$renderFunction(t.enumData.rules,e.key,"key").label))])])})),0),a("div",{staticClass:"modal fade",attrs:{id:"rulesModal"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.rulesEdit.key,expression:"rulesEdit.key"}],staticClass:"md-form md-outline browser-default custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.rulesEdit,"key",e.target.multiple?a:a[0])}}},t._l(t.rulesInType,(function(e,s){return a("option",{key:s,domProps:{value:e.key}},[t._v(t._s(e.label))])})),0)]),"datepicker"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",[t._v("請輸入日期")]),a("datepicker",{attrs:{placeholder:"請輸入日期"},model:{value:t.rulesEdit.value,callback:function(e){t.$set(t.rulesEdit,"value",e)},expression:"rulesEdit.value"}})],1):t._e(),"datepicker_age"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",[t._v("請輸入年齡")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.rulesEdit.value,expression:"rulesEdit.value"}],staticClass:"form-control form-control-sm",attrs:{type:"number",min:"0"},domProps:{value:t.rulesEdit.value},on:{input:function(e){e.target.composing||t.$set(t.rulesEdit,"value",e.target.value)}}})]):t._e(),"datetimepicker"==t.currentEdit.type?a("div",{staticClass:"form-group"},[a("label",[t._v("請輸入日期時間")]),a("datetimepicker",{attrs:{placeholder:"請輸入日期時間"},model:{value:t.rulesEdit.value,callback:function(e){t.$set(t.rulesEdit,"value",e)},expression:"rulesEdit.value"}})],1):t._e(),t._l(t.enumData.langs,(function(e,s){return a("div",{key:s,staticClass:"form-group"},[a("label",[t._v("錯誤訊息"+t._s(e.label))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rulesEdit.message[e.key],expression:"rulesEdit.message[lang.key]"}],staticClass:"form-control form-control-sm",attrs:{rows:"3"},domProps:{value:t.rulesEdit.message[e.key]},on:{input:function(a){a.target.composing||t.$set(t.rulesEdit.message,e.key,a.target.value)}}})])}))],2),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-sm btn-default waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.$saveModal("rules")}}},[t._v("儲存")]),a("button",{staticClass:"btn btn-sm waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.$closeModal("rules",t.rulesInit)}}},[t._v("關閉")])])])])])]):t._e(),a("customComponents",{ref:"customComponents",attrs:{type:"setting",i18n:t.i18n,currentEdit:t.currentEdit}})]],2):0!=Object.keys(t.currentEdit).length?a("div",[a("editor",{attrs:{"api-key":"zmpxfb6q25nhcjo2zi5camd5ntjrkh46mllcpab45h474fa0",init:{menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"]}},model:{value:t.currentEdit.content,callback:function(e){t.$set(t.currentEdit,"content",e)},expression:"currentEdit.content"}})],1):t._e()])])])]),a("div",{staticClass:"modal fade",attrs:{id:"confirmModal"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.confirm.title))]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])]),a("div",{staticClass:"modal-body"},[t._v(t._s(t.confirm.msg))]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-sm btn-primary waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.confirm.thenCB()}}},[t._v("確定")]),a("button",{staticClass:"btn btn-sm waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.$closeModal("confirm")}}},[t._v("關閉")])])])])]),t.cbData.dev?a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[t._v(" 固定欄位 "),a("pre",[t._v(t._s(JSON.stringify(this.defaultItems,null,2)))])]),a("div",{staticClass:"col-4"},[t._v(" 所有新增欄位 "),a("pre",[t._v(t._s(JSON.stringify(this.defaultInsertContents,null,2)))])]),a("div",{staticClass:"col-4"},[t._v(" JSON輸出 "),a("pre",[t._v(t._s(JSON.stringify(this.defaultContents,null,2)))])])]):t._e()])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block-header has-border"},[a("h3",[a("strong",[t._v("欄位設定")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v("檢查規則")]),a("small",{staticClass:"form-text text-muted",staticStyle:{margin:"14px 0 0 4px"}},[t._v("請選擇您想要的檢查規則")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])])}],r=(a("99af"),a("4de4"),a("4160"),a("d81d"),a("45fc"),a("b0c0"),a("d3b7"),a("ac1f"),a("25f0"),a("3ca3"),a("466d"),a("5319"),a("159b"),a("ddb0"),a("2b3d"),a("5530")),l=a("ca72"),o=a("b76a"),c=a.n(o),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-0 mb-0 md-form md-outline input-with-post-icon datepicker",attrs:{id:"date-picker-example"}},[a("input",{staticClass:"form-control mb-0",attrs:{type:"text",placeholder:t.placeholder,autocomplete:"off"},domProps:{value:t.value}}),a("i",{staticClass:"fa fa-calendar input-prefix",attrs:{tabindex:"0"}})])},u=[],p={name:"datepicker",props:["value","placeholder"],mounted:function(){var t=this;$(this.$el).datepicker({autoclose:!0,format:"yyyy-mm-dd",onClose:function(){t.$emit("input",this.get("select","yyyy-mm-dd"))}})},destroyed:function(){$(this.$el).datepicker("destroy")}},m=p,f=a("2877"),v=Object(f["a"])(m,d,u,!1,null,null,null),h=v.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"mt-0 mb-0 md-form md-outline input-with-post-icon datepicker",attrs:{id:"date-picker-example"}},[a("input",{staticClass:"form-control mb-0",attrs:{type:"text",placeholder:t.placeholder,autocomplete:"off"},domProps:{value:t.date}}),a("i",{staticClass:"fa fa-calendar input-prefix"})])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"mt-0 mb-0 md-form md-outline input-with-post-icon timepicker"},[a("input",{staticClass:"form-control mb-0",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.time}}),a("i",{staticClass:"fa fa-clock-o input-prefix"})])])])},g=[],C=(a("1276"),{name:"date_timepicker",props:["value","placeholder"],data:function(){return{date:"",time:""}},watch:{value:function(t){this.date=t.split(" ")[0],this.time=t.split(" ")[1]}},mounted:function(){var t=this,e=this;$(this.$el.firstChild).datepicker({autoclose:!0,format:"yyyy-mm-dd",onClose:function(){e.date=this.get("select","yyyy-mm-dd"),e.$emit("input","".concat(e.date," ").concat(e.time))}}),setTimeout((function(){$(t.$el.lastChild.childNodes[0]).timepicker().on("change",(function(t){e.time=t.target.value,e.$emit("input","".concat(e.date," ").concat(e.time))}))}),1e3)},destroyed:function(){$(this.$el.firstChild).datepicker("destroy"),$(this.$el.lastChild).timepicker("destroy")}}),y=C,_=Object(f["a"])(y,b,g,!1,null,null,null),E=_.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"edit"==t.type?a("div",["name"==t.content.type?a("name",{attrs:{type:"edit",i18n:t.i18n,content:t.content}}):"batch"==t.content.type?a("batch",{attrs:{type:"edit",i18n:t.i18n,content:t.content}}):"semester"==t.content.type?a("semester",{attrs:{type:"edit",i18n:t.i18n,content:t.content}}):"wish"==t.content.type?a("wish",{attrs:{type:"edit",i18n:t.i18n,content:t.content}}):"member_sn"==t.content.type?a("memberSn",{attrs:{type:"edit",i18n:t.i18n,content:t.content}}):t._e()],1):a("div",["name"==t.currentEdit.type?a("name",{attrs:{type:"setting",i18n:t.i18n}}):"batch"==t.currentEdit.type?a("batch",{attrs:{type:"setting",i18n:t.i18n,currentEdit:t.currentEdit}}):"semester"==t.currentEdit.type?a("semester",{attrs:{type:"setting",i18n:t.i18n,currentEdit:t.currentEdit}}):"wish"==t.currentEdit.type?a("wish",{attrs:{type:"setting",i18n:t.i18n,currentEdit:t.currentEdit}}):t._e()],1)},w=[],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"edit"==t.type?a("div",[a("div",["CH"==t.i18n?a("input",{staticClass:"form-control",class:t.content.setting.width||"col-md-12",attrs:{placeholder:"請輸入"+t.content.label.CH}}):"EN"==t.i18n?a("div",{staticClass:"form-row"},[t._m(0),t._m(1),t._m(2)]):t._e()])]):a("div",[a("div")])},I=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"first"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"middle"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"last/family"}})])}],P={name:"name",props:{type:{type:String,required:!0,default:""},i18n:{type:String,required:!0,default:""},content:{type:Object,default:function(){return{}}}},data:function(){return{}}},N=P,D=Object(f["a"])(N,x,I,!1,null,null,null),A=D.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"edit"==t.type?a("div",[t.content.des&&t.content.des[t.i18n]?a("small",{staticClass:"form-text text-muted form-group"},[t._v(t._s(t.content.des[t.i18n]))]):t._e(),t._l(t.content.datas,(function(e,s){return a("div",{key:s,staticClass:"form-group"},[a("label",[t._v(t._s(e.label))]),a("div",t._l(e.options,(function(e,i){return a("div",{key:i,staticClass:"custom-control form-check custom-control-inline"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio",id:"batch_"+s+"_"+i},domProps:{value:e.value}}),a("label",{staticClass:"form-check-label"},[t._v(t._s(e.label))])])})),0)])}))],2):a("div",[a("button",{staticClass:"ml-0 btn btn-default btn-sm waves-effect waves-light",attrs:{"data-toggle":"tooltip",type:"button"},on:{click:t.addBatch}},[t._v("新增梯次")]),t._l(t.currentEdit.datas,(function(e,s){return a("div",{key:s,staticClass:"form-group"},[a("table",{staticClass:"table"},[a("thead",{staticClass:"grey lighten-3"},[a("tr",[a("th",{attrs:{colspan:"3"}},[t._v(t._s(e.label))])])]),a("tbody",t._l(e.options,(function(s,i){return a("tr",{key:i},[a("td",{staticClass:"text-center"},[t._v(t._s(i+1))]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button",disabled:0==i},on:{click:function(a){return t.$upOption(e.options,i)}}},[a("i",{staticClass:"fa fa-chevron-up"})]),a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button",disabled:i==e.options.length-1},on:{click:function(a){return t.$downOption(e.options,i)}}},[a("i",{staticClass:"fa fa-chevron-down"})]),a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button"},on:{click:function(a){return t.$removeOption(e.options,i)}}},[a("i",{staticClass:"fa fa-times"})])])]),a("td",{staticClass:"text-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.label,expression:"option.label"}],staticClass:"form-control form-control-sm",domProps:{value:s.label},on:{input:function(e){e.target.composing||t.$set(s,"label",e.target.value)}}})])])})),0)])])})),a("div",{staticClass:"modal fade",attrs:{id:"batchModal"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"batchlabel"}},[t._v("梯次名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.batchEdit.label,expression:"batchEdit.label"}],staticClass:"form-control col-md-12",attrs:{id:"batchlabel",placeholder:"請輸入梯次名稱"},domProps:{value:t.batchEdit.label},on:{input:function(e){e.target.composing||t.$set(t.batchEdit,"label",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"batchtype"}},[t._v("類別名稱，會依相同名稱類別區隔")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.batchEdit.type,expression:"batchEdit.type"}],staticClass:"form-control col-md-12",attrs:{id:"batchtype",placeholder:"請輸入類別名稱"},domProps:{value:t.batchEdit.type},on:{input:function(e){e.target.composing||t.$set(t.batchEdit,"type",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-sm btn-default waves-effect waves-light",attrs:{type:"button"},on:{click:t.insertBatch}},[t._v("儲存")]),a("button",{staticClass:"btn btn-sm waves-effect waves-light",attrs:{type:"button"},on:{click:t.closeBatch}},[t._v("關閉")])])])])])],2)},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v("報名梯次設定")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])])}],S={name:"wish",props:{type:{type:String,required:!0,default:""},i18n:{type:String,required:!0,default:""},content:{type:Object,default:function(){return{}}},currentEdit:{type:Object,default:function(){return{}}}},data:function(){return{batchEdit:{label:"",type:""}}},created:function(){},methods:{addBatch:function(){$("#batchModal").modal("show")},insertBatch:function(){var t=this,e=this.currentEdit.datas.some((function(e){if(e.label==t.batchEdit.type)return e.options.push({label:t.batchEdit.label}),!0}));e||this.currentEdit.datas.push({label:this.batchEdit.type,options:[{label:this.batchEdit.label}]}),this.closeBatch()},closeBatch:function(){this.batchEdit={label:"",type:""},$("#batchModal").modal("hide")}}},j=S,M=Object(f["a"])(j,O,T,!1,null,null,null),H=M.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"edit"==t.type?a("div",[t.content.des&&t.content.des[t.i18n]?a("small",{staticClass:"form-text text-muted form-group"},[t._v(t._s(t.content.des[t.i18n]))]):t._e(),t._l(t.content.semester,(function(e,s){return a("div",{key:s,staticClass:"form-group"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"semester_checkbox_"+s}}),a("label",{staticClass:"form-check-label",attrs:{for:"semester_checkbox_"+s}},[t._v(" "+t._s(e.label)+" ( "+t._s(e.startDate)+" - "+t._s(e.endDate)+" ) ")]),a("div",{staticClass:"ml-4 col-12"},[a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-6"},[a("label",[t._v("體驗開始日期")]),a("datepicker")],1),a("div",{staticClass:"col-6"},[a("label",[t._v("體驗結束日期")]),a("datepicker")],1)]),a("div",{staticClass:"form-group"},[a("label",[t._v("申請選擇申請體驗的學校志願，最少 1 個。")]),t._l(parseInt(t.content.setting.limit),(function(e){return a("div",{key:e,staticClass:"row form-group"},[a("div",{staticClass:"col-1"},[t._v(t._s(e))]),a("div",{staticClass:"col-3"},[a("select",{staticClass:"browser-default custom-select"},t._l(t.cityList,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"col-4"},[a("select",{staticClass:"browser-default custom-select"},t._l(t.content.school,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"col-4"},[a("select",{staticClass:"browser-default custom-select"},t._l(6,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)])])}))],2)])])}))],2):a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"semester_limit"}},[t._v("開放填寫志願數")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.limit,expression:"currentEdit.setting.limit"}],staticClass:"form-control form-control-sm",attrs:{type:"number",id:"semester_limit",min:"0"},domProps:{value:t.currentEdit.setting.limit},on:{input:function(e){e.target.composing||t.$set(t.currentEdit.setting,"limit",e.target.value)}}})]),a("button",{staticClass:"pull-right ml-0 btn btn-default btn-sm waves-effect waves-light",attrs:{"data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.$editModal("semester",t.semesterInit,"new")}}},[t._v("新增學期")]),a("div",{staticClass:"form-group"},[a("label",[t._v("學期選項")]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[a("tbody",t._l(t.currentEdit.semester,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-center"},[t._v(t._s(s+1))]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.$editModal("semester",t.semesterInit,s)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.$removeOption(t.currentEdit.semester,s)}}},[a("i",{staticClass:"fa fa-times"})])])]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.label)+" ( "+t._s(e.startDate)+" - "+t._s(e.endDate)+" ) ")])])})),0)])])]),a("button",{staticClass:"pull-right ml-0 btn btn-default btn-sm waves-effect waves-light",attrs:{"data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.$editModal("school",t.schoolInit,"new")}}},[t._v("新增學校")]),a("div",{staticClass:"form-group"},[a("label",[t._v("參與學校")]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.currentEdit.school,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-center"},[t._v(t._s(s+1))]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.$editModal("school",t.schoolInit,s)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.$removeOption(t.currentEdit.school,s)}}},[a("i",{staticClass:"fa fa-times"})])])]),a("td",{staticClass:"text-center"},[t._v(t._s(t.$renderFunction(t.cityList,e.cityId).name))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.name))])])})),0)])])]),a("div",{staticClass:"modal fade",attrs:{id:"semesterModal"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"semesterLabel"}},[t._v("學期名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.semesterEdit.label,expression:"semesterEdit.label"}],staticClass:"form-control col-md-12",attrs:{id:"semesterLabel",placeholder:"請輸入學期名稱"},domProps:{value:t.semesterEdit.label},on:{input:function(e){e.target.composing||t.$set(t.semesterEdit,"label",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",[t._v("學期開始")]),a("datepicker",{model:{value:t.semesterEdit.startDate,callback:function(e){t.$set(t.semesterEdit,"startDate",e)},expression:"semesterEdit.startDate"}})],1),a("div",{staticClass:"col-6"},[a("label",[t._v("學期結束")]),a("datepicker",{model:{value:t.semesterEdit.endDate,callback:function(e){t.$set(t.semesterEdit,"endDate",e)},expression:"semesterEdit.endDate"}})],1)])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-sm btn-default waves-effect waves-light",attrs:{type:"button","ㄍ":""},on:{click:function(e){return t.$saveModal("semester")}}},[t._v("儲存")]),a("button",{staticClass:"btn btn-sm waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.$closeModal("semester",t.semesterInit)}}},[t._v("關閉")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"schoolModal"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"schoolName"}},[t._v("學校名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.schoolEdit.name,expression:"schoolEdit.name"}],staticClass:"form-control col-md-12",attrs:{id:"schoolName",placeholder:"請輸入學期名稱"},domProps:{value:t.schoolEdit.name},on:{input:function(e){e.target.composing||t.$set(t.schoolEdit,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"schoolCity"}},[t._v("縣市")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.schoolEdit.cityId,expression:"schoolEdit.cityId"}],staticClass:"browser-default custom-select",attrs:{id:"schoolCity"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.schoolEdit,"cityId",e.target.multiple?a:a[0])}}},t._l(t.cityList,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-sm btn-default waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.$saveModal("school")}}},[t._v("儲存")]),a("button",{staticClass:"btn btn-sm waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.$closeModal("school",t.schoolInit)}}},[t._v("關閉")])])])])])])},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"grey lighten-3"},[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"50px",width:"50px"}},[t._v("#")]),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px",width:"110px"}},[t._v("操作")]),a("th",{staticClass:"text-center"},[t._v("縣市")]),a("th",{staticClass:"text-center"},[t._v("駐外單位")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v("報名梯次設定")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v("參與學校")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])])}],L={name:"wish",components:{datepicker:h},props:{type:{type:String,required:!0,default:""},i18n:{type:String,required:!0,default:""},content:{type:Object,default:function(){return{}}},currentEdit:{type:Object,default:function(){return{}}}},data:function(){return{cityList:[{id:1,name:"臺北市"},{id:2,name:"新北市"}],semesterEdit:{label:"",startDate:"",endDate:""},semesterInit:{label:"",startDate:"",endDate:""},semesterEditIndex:"",schoolEdit:{name:"",cityId:""},schoolInit:{name:"",cityId:""},schoolEditIndex:""}},created:function(){},methods:{}},B=L,W=Object(f["a"])(B,q,F,!1,null,null,null),J=W.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"edit"==t.type?a("div",[t.content.des&&t.content.des[t.i18n]?a("small",{staticClass:"form-text text-muted form-group"},[t._v(t._s(t.content.des[t.i18n]))]):t._e(),t._l(t.content.wish,(function(e,s){return a("div",{key:s,staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("select",{staticClass:"browser-default custom-select form-control-sm"},t._l(parseInt(t.content.setting.limit),(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)]),a("div",{staticClass:"col-9"},[a("label",[t._v(" "+t._s(t.$renderFunction(t.areaList,e.areaId).name)+" "+t._s(e.name)+" ")])])])])}))],2):a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"wish_limit"}},[t._v("開放填寫志願數")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEdit.setting.limit,expression:"currentEdit.setting.limit"}],staticClass:"form-control form-control-sm",attrs:{type:"number",id:"wish_limit",min:"0"},domProps:{value:t.currentEdit.setting.limit},on:{input:function(e){e.target.composing||t.$set(t.currentEdit.setting,"limit",e.target.value)}}})]),a("button",{staticClass:"pull-right ml-0 btn btn-default btn-sm waves-effect waves-light",attrs:{"data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.$editModal("wish",t.wishInit,"new")}}},[t._v("新增志願")]),a("div",{staticClass:"form-group"},[a("label",[t._v("志願地區")]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.currentEdit.wish,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-center"},[t._v(t._s(s+1))]),a("td",{staticClass:"text-center"},[a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.$editModal("wish",t.wishInit,s)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("button",{staticClass:"btn btn-xs btn-default waves-effect waves-light",attrs:{title:"","data-toggle":"tooltip",type:"button"},on:{click:function(e){return t.$removeOption(t.currentEdit.wish,s)}}},[a("i",{staticClass:"fa fa-times"})])])]),a("td",{staticClass:"text-center"},[t._v(t._s(t.$renderFunction(t.areaList,e.areaId).name))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.name))])])})),0)])])]),a("div",{staticClass:"modal fade",attrs:{id:"wishModal"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"wishArea"}},[t._v("區域")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.wishEdit.areaId,expression:"wishEdit.areaId"}],staticClass:"browser-default custom-select",attrs:{id:"wishArea"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.wishEdit,"areaId",e.target.multiple?a:a[0])}}},t._l(t.areaList,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"wishName"}},[t._v("地點")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.wishEdit.name,expression:"wishEdit.name"}],staticClass:"form-control col-md-12",attrs:{id:"wishName",placeholder:"請輸入地點"},domProps:{value:t.wishEdit.name},on:{input:function(e){e.target.composing||t.$set(t.wishEdit,"name",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-sm btn-default waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.$saveModal("wish")}}},[t._v("儲存")]),a("button",{staticClass:"btn btn-sm waves-effect waves-light",attrs:{type:"button"},on:{click:function(e){return t.$closeModal("wish",t.wishInit)}}},[t._v("關閉")])])])])])])},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"grey lighten-3"},[a("tr",[a("th",{staticClass:"text-center",staticStyle:{"min-width":"50px",width:"50px"}},[t._v("#")]),a("th",{staticClass:"text-center",staticStyle:{"min-width":"110px",width:"110px"}},[t._v("操作")]),a("th",{staticClass:"text-center"},[t._v("區域")]),a("th",{staticClass:"text-center"},[t._v("駐外單位")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v("志願地點")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")])])}],z={name:"wish",props:{type:{type:String,required:!0,default:""},i18n:{type:String,required:!0,default:""},content:{type:Object,default:function(){return{}}},currentEdit:{type:Object,default:function(){return{}}}},data:function(){return{areaList:[{id:1,name:"亞洲"},{id:2,name:"大洋洲"},{id:3,name:"北美洲"},{id:4,name:"南美洲"}],wishEdit:{name:"",areaId:""},wishInit:{name:"",areaId:""},wishEditIndex:""}},created:function(){},methods:{}},G=z,U=Object(f["a"])(G,R,V,!1,null,null,null),X=U.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"edit"==t.type?a("div",[t._m(0)]):t._e()},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("input",{attrs:{type:"hidden",name:"member_sn"}})])}],Q={name:"member_sn",props:{type:{type:String,required:!0,default:""}},data:function(){return{}}},Y=Q,tt=Object(f["a"])(Y,Z,K,!1,null,null,null),et=tt.exports,at={name:"custom_components",props:{type:{type:String,required:!0,default:""},i18n:{type:String,required:!0,default:""},content:{type:Object,default:function(){return{}}},currentEdit:{type:Object,default:function(){return{}}}},components:{name:A,batch:H,semester:J,wish:X,memberSn:et},data:function(){return{defaultInsertContents:[{insertType:"info",type:"name",label:{CH:"自訂姓名",EN:"name"},des:{},setting:{width:"col-md-12"}},{insertType:"defaultItem",type:"batch",label:{CH:"梯次選項",EN:"batch"},des:{},setting:{width:"col-md-12"}},{insertType:"defaultItem",type:"semester",label:{CH:"學期志願選項",EN:"semester"},des:{},setting:{width:"col-md-12"}},{insertType:"defaultItem",type:"wish",label:{CH:"志願選項",EN:"wish"},des:{},setting:{width:"col-md-12"}},{insertType:"defaultItem",type:"memberSn",label:{CH:"會員SN",EN:"memberSn"},des:{},setting:{width:"col-md-12",showTitle:!1,showDes:!1,showSetting:!1}}]}}},st=at,it=Object(f["a"])(st,k,w,!1,null,null,null),nt=it.exports,rt={name:"form_editor",components:{editor:l["a"],draggable:c.a,datepicker:h,datetimepicker:E,customComponents:nt},data:function(){return{cbData:{dev:!1},enumData:{langs:[],rules:[],settings:[]},i18n:"CH",contentType:"insert",searchWords:"",currentEdit:{},rulesEdit:{key:"",value:"",message:{}},rulesInit:{key:"",value:"",message:{}},rulesEditIndex:"",listDatas:[{name:"樣版",columns:[{label:"111",key:"x1"},{label:"222",key:"x2"},{label:"333",key:"x3"}],datas:[{x1:"aa1",x2:"aa2",x3:"aa3"},{x1:"bb1",x2:"bb2",x3:"bb3"}]},{name:"計畫內容",columns:[{label:"執行單位",key:"x1"},{label:"單位代碼",key:"x2"},{label:"計畫主持人",key:"x3"},{label:"人事編號",key:"x4"},{label:"月支金額",key:"x5"},{label:"月支起訖日期",kex:"a6"}],datas:[{x1:"aa1",x2:"aa2",x3:"aa3",x4:"aa4",x5:"aa5",x6:"aa6"},{x1:"bb1",x2:"bb2",x3:"bb3",x4:"bb4",x5:"bb5",x6:"bb6"}]}],insertTypeList:[{label:"全部",value:""},{label:"基本欄位",value:"default"},{label:"報名人基本資料",value:"info"},{label:"僑務資訊系統欄位",value:"custom"}],insertType:"",defaultInsertContents:[{insertType:"default",type:"des",label:{CH:"說明文字"},content:"說明文字",setting:{showDes:!1,width:"col-md-12"},insertDes:"編輯器說明文字"},{insertType:"default",type:"text",label:{CH:"單行文字",EN:"input"},des:{},value:{},setting:{width:"col-md-12",placeholder:{}},rules:[],insertDes:"單行input"},{insertType:"default",type:"textarea",label:{CH:"多行文字",EN:"textarea"},des:{},value:{},setting:{width:"col-md-12",placeholder:{}},insertDes:"多行textarea"},{insertType:"default",type:"email",label:{CH:"電子郵件",EN:"email"},des:{},value:{},setting:{width:"col-md-12",placeholder:{}},insertDes:"自帶 email 檢查"},{insertType:"default",type:"number",label:{CH:"數字",EN:"number"},des:{},setting:{width:"col-md-12",step:"0",placeholder:{}}},{insertType:"default",type:"datepicker",label:{CH:"日期",EN:"datepicker"},des:{},setting:{width:"col-md-12",placeholder:{CH:"選擇日期",EN:"select date"}},rules:[]},{insertType:"default",type:"datepicker_age",label:{CH:"日期(生日年齡)",EN:"datepicker"},des:{},setting:{width:"col-md-12",placeholder:{CH:"選擇日期",EN:"select date"}},rules:[]},{insertType:"default",type:"datetimepicker",label:{CH:"日期時間",EN:"datetimepicker"},des:{},setting:{width:"col-md-12",placeholder:{CH:"選擇日期時間",EN:"select datetime"}},rules:[]},{insertType:"default",type:"select",label:{CH:"下拉選項",EN:"select"},des:{},options:[],setting:{width:"col-md-12"}},{insertType:"default",type:"radio",label:{CH:"單選項目",EN:"radio"},des:{},options:[{value:1,label:"男"},{value:2,label:"女"}],setting:{width:"col-md-12"}},{insertType:"default",type:"checkbox",label:{CH:"複選項目",EN:"checkbox"},des:{},options:[{value:1,label:"中文"},{value:2,label:"英文"},{value:3,label:"其他",des:!0}],setting:{width:"col-md-12",inline:!0}},{insertType:"default",type:"file_upload",label:{CH:"檔案上傳",EN:"file input"},des:{},setting:{accept:[]},file:null},{insertType:"default",type:"file_download",label:{CH:"檔案下載",EN:"file download"},des:{},setting:{showDes:!1},file:null},{insertType:"info",type:"address",label:{CH:"地址",EN:"address"},des:{},setting:{width:"col-md-12"}},{insertType:"default",type:"table",label:{CH:"表格",EN:"table"},des:{},setting:{width:"col-md-12"},tableSn:0}],defaultEditContents:[],defaultContents:[{label:{},items:[{type:"text",label:{},setting:{}}]}],confirm:{title:"",msg:""},toastrOptions:{closeButton:!0,debug:!1,positionClass:"md-toast-top-center",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"10000",extendedTimeOut:"3000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}}},computed:{allContents:function(){var t=[];return this.defaultContents.forEach((function(e){t=t.concat(e.items)})),t},defaultItems:function(){return this.defaultInsertContents.filter((function(t){return"defaultItem"==t.insertType}))},hideDefalutItemInsertContents:function(){var t=this;return this.defaultInsertContents.filter((function(e){return!!t.cbData.dev||"defaultItem"!=e.insertType}))},checkAddInsertContents:function(){var t=this;return this.hideDefalutItemInsertContents.map((function(e){return e.addable=!0,t.allContents.forEach((function(t){t.type==e.type&&"default"!=e.insertType&&(e.addable=!1)})),e}))},filterInsertContents:function(){var t=this;return this.checkAddInsertContents.filter((function(e){return e.label.CH.match(t.searchWords)})).filter((function(e){return!t.insertType||e.insertType==t.insertType}))},checkAddEditContents:function(){var t=this,e=[];return this.defaultEditContents.forEach((function(t){e=e.concat(t.items)})),e.map((function(e){return e.addable=!0,t.allContents.forEach((function(t){t.uuid==e.uuid&&(e.addable=!1)})),e}))},filterEditContents:function(){var t=this;return this.checkAddEditContents.filter((function(e){return e.label.CH.match(t.searchWords)})).filter((function(e){return!t.insertType||e.insertType==t.insertType}))},rulesTypeArray:function(){return this.enumData.rules.map((function(t){return t.type}))},rulesInType:function(){var t=this;return this.enumData.rules.filter((function(e){return e.type==t.currentEdit.type||""==e.type}))},filterSettings:function(){var t=this;return this.enumData.settings.filter((function(e){return"file_upload"!=t.currentEdit.type||"require"==e.key||"invisiable"==e.key}))}},mounted:function(){toastr.options=this.toastrOptions;var t=document.querySelector("#cbdata");this.cbData=JSON.parse(t.dataset.cbdata),this.defaultInsertContents=this.defaultInsertContents.concat(this.$refs.customComponents[0].defaultInsertContents),this.getContent(),this.cbData.exampleId&&this.getEditContent()},methods:{removeAt:function(t,e){var a=this,s=function(){void 0!=e?a.defaultContents[t].items.splice(e,1):a.defaultContents.splice(t,1),a.currentEdit={}};this.$confirm("提示","是否確定刪除?",s)},log:function(t){console.log("log",t)},onAdd:function(t,e){this.closeEdit();var a=this.defaultContents[t].items[e.newIndex];a.uuid||this.$set(a,"uuid",this.uuid()),this.editContent(a,t,e.newIndex)},onClone:function(t){return Object(r["a"])({},t)},editContent:function(t,e,a){this.closeEdit(),void 0!=e?(this.editDiv=!1,this.$set(this.defaultContents[e].items[a],"editorEnable",!0)):this.editDiv=!0,this.currentEdit=t},closeEdit:function(){var t=this;this.defaultContents.forEach((function(e,a){t.defaultContents[a].items.forEach((function(e,s){t.$set(t.defaultContents[a].items[s],"editorEnable",!1)}))}))},addDIV:function(){this.defaultContents.push({label:{CH:"名稱",EN:"DIV"},items:[]})},changeI18n:function(t){this.i18n=t},changeContnet:function(t){this.contentType=t},addOption:function(){this.currentEdit.options.push({value:"",label:""})},uploadFile:function(t){this.currentEdit.file=t.target.files[0]},downloadFile:function(t){var e=document.createElement("a"),a=window.URL.createObjectURL(t),s=t.name;e.href=a,e.download=s,e.click()},checkInline:function(){var t=this,e=this.currentEdit.options.some((function(e){if(e.des)return t.currentEdit.setting.inline=!1,!0}));!e&&this.currentEdit.setting.inline&&(this.currentEdit.setting.inline=!0)},saveEditor:function(){var t=new FormData;t.append("uid",this.cbData.uid),t.append("formId",this.cbData.formId),t.append("data",JSON.stringify(this.defaultContents)),fetch(this.cbData.api,{method:"POST",body:t}).then((function(t){return t.json()})).catch((function(t){toastr["error"]("Error",t)})).then((function(t){t.success?toastr["success"]("Success","儲存成功"):toastr["error"]("Error",t.message)}))},uuid:function(){var t=Date.now();return"undefined"!==typeof performance&&"function"===typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var a=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?a:3&a|8).toString(16)}))},getContent:function(){var t=this;fetch(this.cbData.api+"formId/".concat(this.cbData.formId)).then((function(t){return t.json()})).catch((function(t){toastr["error"]("Error",t)})).then((function(e){t.defaultContents=e.data,t.enumData=e.enumData}))},getEditContent:function(){var t=this;fetch(this.cbData.api+"formId/".concat(this.cbData.exampleId)).then((function(t){return t.json()})).catch((function(t){toastr["error"]("Error",t)})).then((function(e){t.defaultEditContents=e.data}))}}},lt=rt,ot=(a("54b1"),Object(f["a"])(lt,i,n,!1,null,null,null)),ct=ot.exports;s["a"].config.productionTip=!1,s["a"].prototype.$renderFunction=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",s=t.find((function(t){return t[a]==e}));return s},s["a"].prototype.$editModal=function(t,e,a){this["".concat(t,"EditIndex")]=a,this["".concat(t,"Edit")]="new"==a?Object.assign({},e):Object.assign({},this.currentEdit[t][a]),$("#".concat(t,"Modal")).modal("show")},s["a"].prototype.$saveModal=function(t){"new"==this["".concat(t,"EditIndex")]?this.currentEdit[t].push(this["".concat(t,"Edit")]):this.currentEdit[t][this["".concat(t,"EditIndex")]]=this["".concat(t,"Edit")];var e=this["".concat(t,"Init")];this.$closeModal(t,e)},s["a"].prototype.$closeModal=function(t,e){e&&(this["".concat(t,"Edit")]=Object.assign({},e)),$("#".concat(t,"Modal")).modal("hide")},s["a"].prototype.$removeOption=function(t,e){t.splice(e,1)},s["a"].prototype.$upOption=function(t,e){t[e]=t.splice(e-1,1,t[e])[0]},s["a"].prototype.$downOption=function(t,e){t[e]=t.splice(e+1,1,t[e])[0]},s["a"].prototype.$confirm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"提示",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"確認刪除?",a=arguments.length>2?arguments[2]:void 0;$("#confirmModal").modal("show");var s=function(){a&&a(),$("#confirmModal").modal("hide")};this.confirm={title:t,msg:e,thenCB:s}},new s["a"]({render:function(t){var e=t(ct),a=document.querySelector("#form_editor"),s=t("span",{attrs:{id:"cbdata","data-cbdata":a.dataset.cbdata}});return t("div",[e,s])}}).$mount("#form_editor")}});
//# sourceMappingURL=formEditor.js.map