{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/WebEditor.vue?73d9","webpack:///./src/components/WebEditor.vue?6370","webpack:///src/components/WebEditor.vue","webpack:///./src/components/WebEditor.vue?b814","webpack:///./src/components/WebEditor.vue","webpack:///./src/webEditor.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","saveEditor","_v","defaultContents","log","onChoose","onUnchoose","_l","content","index","$event","editContent","removeAt","_e","foreRenderKey","menubar","plugins","toolbar","content_css","cbData","theme","language","image_title","automatic_uploads","images_upload_handler","image_upload_handler","editorEnable","onBlur","model","callback","$$v","$set","expression","_m","insertContents","pull","put","onClone","class","_s","des","JSON","stringify","contents","staticRenderFns","component","Vue","config","productionTip","render","h","app","WebEditor","el","document","querySelector","cbdata","id","dataset","$mount"],"mappings":"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","file":"js/webEditor.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"webEditor\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([2,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebEditor.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"web_editor\"}},[_c('button',{staticClass:\"btn btn-primary btn-sm waves-effect waves-light web_editor_save\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.saveEditor}},[_vm._v(\"儲存\")]),_c('div',{staticClass:\"row web_editor_row\"},[_c('div',{staticClass:\"col-9 edit_area\"},[_c('div',{staticClass:\"edit_area_block\"},[_c('div',{staticClass:\"block-content\"},[_c('draggable',{staticClass:\"dragArea tinymce-editor\",attrs:{\"list\":_vm.defaultContents,\"group\":\"editor\"},on:{\"change\":_vm.log,\"choose\":_vm.onChoose,\"unchoose\":_vm.onUnchoose}},_vm._l((_vm.contents),function(content,index){return _c('div',{key:index,on:{\"dblclick\":function($event){return _vm.editContent(index)}}},[(content.editorEnable)?_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":function($event){return _vm.removeAt(index)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])]):_vm._e(),_c('editor',{key:_vm.foreRenderKey,attrs:{\"api-key\":\"29nj5i1lsth0smjpvwi3etbreljhg4b7hn1ifys61k0oztlf\",\"id\":(\"\" + index),\"init\":{\n                                    menubar: false,\n                                    plugins: [\n                                    'advlist autolink lists link image charmap print preview anchor',\n                                    'searchreplace visualblocks code fullscreen',\n                                    'insertdatetime media table paste code help wordcount' ],\n                                    toolbar: content.toolbar,\n                                    content_css: [ _vm.cbData.theme ],\n                                    language: 'zh_TW',\n                                    image_title: true,\n                                    automatic_uploads: true,\n                                    images_upload_handler: _vm.image_upload_handler\n                                },\"inline\":true,\"disabled\":!content.editorEnable},on:{\"onBlur\":_vm.onBlur},model:{value:(_vm.defaultContents[index].content),callback:function ($$v) {_vm.$set(_vm.defaultContents[index], \"content\", $$v)},expression:\"defaultContents[index].content\"}})],1)}),0)],1)])]),_c('div',{staticClass:\"col-3 side_element\"},[_c('div',{staticClass:\"side_element_block\"},[_vm._m(0),_c('div',{staticClass:\"block-content tinymce-editor\"},[_c('draggable',{staticClass:\"dragArea\",attrs:{\"list\":_vm.insertContents,\"group\":{ name: 'editor', pull: 'clone', put: false },\"clone\":_vm.onClone,\"sort\":false},on:{\"change\":_vm.log,\"choose\":_vm.onChoose,\"unchoose\":_vm.onUnchoose}},_vm._l((_vm.insertContents),function(content,index){return _c('div',{key:index,staticClass:\"elements\",class:content.class},[_c('div',{staticClass:\"inner\"},[_c('span',[_c('img',{attrs:{\"src\":\"https://fakeimg.pl/40/\"}})]),_c('span',[_vm._v(_vm._s(content.des))])])])}),0)],1)])])]),(_vm.cbData.dev)?_c('pre',[_vm._v(_vm._s(JSON.stringify(this.contents, null, 2)))]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block-header has-border\"},[_c('h3',[_c('strong',[_vm._v(\"插入段落\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"web_editor\">\n        <button\n            type=\"button\"\n            class=\"btn btn-primary btn-sm waves-effect waves-light web_editor_save\"\n            @click=\"saveEditor\"\n        >儲存</button>\n        <div class=\"row web_editor_row\">\n            <div class=\"col-9 edit_area\">\n                <div class=\"edit_area_block\">\n                    <div class=\"block-content\">\n                        <!-- 編輯區塊 -->\n                        <draggable\n                            class=\"dragArea tinymce-editor\"\n                            :list=\"defaultContents\"\n                            group=\"editor\"\n                            @change=\"log\"\n                            @choose=\"onChoose\"\n                            @unchoose=\"onUnchoose\"\n                        >\n                            <div\n                                v-for=\"(content, index) in contents\"\n                                :key=\"index\"\n                                @dblclick=\"editContent(index)\"\n                            >\n                                <button\n                                    type=\"button\"\n                                    class=\"close\"\n                                    aria-label=\"Close\"\n                                    @click=\"removeAt(index)\"\n                                    v-if=\"content.editorEnable\"\n                                >\n                                    <span aria-hidden=\"true\">×</span>\n                                </button>\n                                <editor\n                                    api-key=\"29nj5i1lsth0smjpvwi3etbreljhg4b7hn1ifys61k0oztlf\"\n                                    :key=\"foreRenderKey\"\n                                    :id=\"`${index}`\"\n                                    :init=\"{\n                                        menubar: false,\n                                        plugins: [\n                                        'advlist autolink lists link image charmap print preview anchor',\n                                        'searchreplace visualblocks code fullscreen',\n                                        'insertdatetime media table paste code help wordcount',\n                                        ],\n                                        toolbar: content.toolbar,\n                                        content_css: [ cbData.theme ],\n                                        language: 'zh_TW',\n                                        image_title: true,\n                                        automatic_uploads: true,\n                                        images_upload_handler: image_upload_handler\n                                    }\"\n                                    v-model=\"defaultContents[index].content\"\n                                    :inline=\"true\"\n                                    :disabled=\"!content.editorEnable\"\n                                    @onBlur=\"onBlur\"\n                                />\n                            </div>\n                        </draggable>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-3 side_element\">\n                <div class=\"side_element_block\">\n                    <div class=\"block-header has-border\">\n                        <h3>\n                            <strong>插入段落</strong>\n                        </h3>\n                    </div>\n                    <div class=\"block-content tinymce-editor\">\n                        <!-- 功能區塊 -->\n                        <draggable\n                            class=\"dragArea\"\n                            :list=\"insertContents\"\n                            :group=\"{ name: 'editor', pull: 'clone', put: false }\"\n                            :clone=\"onClone\"\n                            :sort=\"false\"\n                            @change=\"log\"\n                            @choose=\"onChoose\"\n                            @unchoose=\"onUnchoose\"\n                        >\n                            <div\n                                v-for=\"(content, index) in insertContents\"\n                                :key=\"index\"\n                                :class=\"content.class\"\n                                class=\"elements\"\n                            >\n                                <div class=\"inner\">\n                                    <span>\n                                        <img src=\"https://fakeimg.pl/40/\" />\n                                    </span>\n                                    <span>{{content.des}}</span>\n                                </div>\n                            </div>\n                        </draggable>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <pre v-if=\"cbData.dev\">{{ JSON.stringify(this.contents, null, 2) }}</pre>\n    </div>\n</template>\n\n<script>\nimport Editor from \"@tinymce/tinymce-vue\";\nimport draggable from \"vuedraggable\";\n\nexport default {\n    name: \"web_editor\",\n    components: {\n        editor: Editor,\n        draggable\n    },\n\n    data() {\n        return {\n            foreRenderKey: 0,\n            // 外部傳入參數\n            cbData: {\n                dev: false\n            },\n            insertContents: [\n                {\n                    type: \"title\",\n                    class: \"elements-h4\",\n                    des: \"H4 標題\",\n                    content: `<h4>H4 Title</h4>`\n                },\n                {\n                    type: \"title\",\n                    class: \"elements-h5\",\n                    des: \"H5 標題\",\n                    content: `<h5>H5 Title</h4>`\n                },\n                {\n                    type: \"text\",\n                    class: \"elements-text\",\n                    des: \"純文字\",\n                    content: `<div>\n                  <p>text</p>\n                </div>`\n                },\n                {\n                    type: \"text\",\n                    class: \"elements-ul\",\n                    des: \"無序號的列表\",\n                    content: `<ul>\n                        <li>111</li>\n                        <li>222</li>\n                    </ul>`\n                },\n                {\n                    type: \"text\",\n                    class: \"elements-ol\",\n                    des: \"有序號的列表\",\n                    content: `<ol>\n                        <li>111</li>\n                        <li>222</li>\n                    </ol>`\n                },\n                {\n                    type: \"image\",\n                    des: \"圖片\",\n                    class: \"elements-image\",\n                    content: `<img src=\"https://static.toiimg.com/thumb/msid-67586673,width-800,height-600,resizemode-75,imgsize-3918697,pt-32,y_pad-40/67586673.jpg\" alt=\"\">`\n                },\n                {\n                    type: \"media\",\n                    des: \"YouTube\",\n                    class: \"elements-youtube\",\n                    content: `<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/z4HgjL7t9QY\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>`\n                },\n                {\n                    type: \"media\",\n                    des: \"PDF 檔案\",\n                    class: \"elements-pdf\",\n                    content: `<iframe frameborder=\"0\" scrolling=\"no\"\n                        width=\"640\" height=\"480\"\n                        src=\"https://www.clickdimensions.com/links/TestPDFfile.pdf\">\n                    </iframe>`\n                },\n                {\n                    type: \"media\",\n                    des: \"Google Calendar\",\n                    class: \"elements-calendar\",\n                    content: `<iframe src=\"http://www.google.com/calendar/htmlembed?src=ht3jlfaac5lfd6263ulfh4tql8%40group.calendar.google.com&ctz=America/Chicago\"\n                        style=\"border: 0\" width=\"480\" height=\"360\" frameborder=\"0\" scrolling=\"no\"></iframe>`\n                },\n                {\n                    type: \"media\",\n                    des: \"Google Form\",\n                    class: \"elements-form\",\n                    content: `<iframe src=\"https://docs.google.com/forms/d/e/1FAIpQLScPOypWMAlKYMvG6uRbEsPcfXWukDkOp64Qm0_NzKod8Dlnaw/viewform?usp=sf_link\" width=\"100%\" height=\"500\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\">載入中…</iframe>`\n                }\n            ],\n            defaultContents: [\n                {\n                    type: \"title\",\n                    content: `<h1 >The world&rsquo;s first rich text editor in the cloud</h1>`\n                },\n                {\n                    type: \"table\",\n                    content: ` <div\n                                    class=\"table-responsive\"\n                                >\n                                    <table class=\"table\">\n                                        <thead class=\"grey lighten-3\">\n                                            <tr>\n                                                <th\n                                                    style=\"width: 50px;\"\n                                                    class=\"text-center\"\n                                                >#</th>\n                                                <th\n                                                    class=\"text-center\"\n                                                >111</th>\n                                                <th\n                                                    class=\"text-center\"\n                                                >222</th>\n                                                <th\n                                                    class=\"text-center\"\n                                                >333</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr\n                                                class=\"text-center\"\n                                            >\n                                                <td>1</td>\n                                                <td \n                                                    class=\"text-center\"\n                                                >aaa</td>\n                                                    <td \n                                                    class=\"text-center\"\n                                                >aaa</td>\n                                                    <td \n                                                    class=\"text-center\"\n                                                >aaa</td>\n                                            </tr>\n                                            \n                                        </tbody>\n                                    </table>\n                                </div>`\n                },\n                {\n                    type: \"text\",\n                    content: `<div>\n                  <p>Have you heard about Tiny Cloud? It&rsquo;s the first step in our journey to help you deliver great content creation experiences, no matter your level of expertise. 50,000 developers already agree. They get free access to our global CDN, image proxy services and auto updates to the TinyMCE editor. They&rsquo;re also ready for some exciting updates coming soon.</p>\n                  <p>One of these enhancements is <strong>Tiny Drive</strong>: imagine file management for TinyMCE, in the cloud, made super easy. Learn more at <a href=\"../../../tinydrive/\">tiny.cloud/tinydrive</a>, where you&rsquo;ll find a working demo and an opportunity to provide feedback to the product team.</p>\n                </div>`\n                },\n                {\n                    type: \"title\",\n                    content: `<h2 >An editor for every project</h2>`\n                },\n                {\n                    type: \"text\",\n                    content: `<div>\n              <p>Here are some of our customer&rsquo;s most common use cases for TinyMCE:</p>\n              <ul>\n              <li>Content Management Systems (<em>e.g. WordPress, Umbraco</em>)</li>\n              <li>Learning Management Systems (<em>e.g. Blackboard</em>)</li>\n              <li>Customer Relationship Management and marketing automation (<em>e.g. Marketo</em>)</li>\n              <li>Email marketing (<em>e.g. Constant Contact</em>)</li>\n              <li>Content creation in SaaS systems (<em>e.g. Eventbrite, Evernote, GoFundMe, Zendesk</em>)</li>\n              </ul>\n              <p>And those use cases are just the start. TinyMCE is incredibly flexible, and with hundreds of APIs there&rsquo;s likely a solution for your editor project. If you haven&rsquo;t experienced Tiny Cloud, get started today. You&rsquo;ll even get a free trial of our premium plugins &ndash; no credit card required!</p>\n            </div>`\n                }\n            ],\n            toastrOptions: {\n                closeButton: true,\n                debug: false,\n                positionClass: \"md-toast-top-center\",\n                onclick: null,\n                showDuration: \"1000\",\n                hideDuration: \"1000\",\n                timeOut: \"10000\",\n                extendedTimeOut: \"3000\",\n                showEasing: \"swing\",\n                hideEasing: \"linear\",\n                showMethod: \"fadeIn\",\n                hideMethod: \"fadeOut\"\n            }\n        };\n    },\n    computed: {\n        contents() {\n            // 不同 type 使用不同 toolbar\n            return this.defaultContents.map(item => {\n                const newItem = {\n                    ...item\n                };\n                if (newItem.type == \"title\") {\n                    // title\n                    newItem.toolbar = \"undo redo | bold italic underline\";\n                } else if (newItem.type == \"text\") {\n                    // text\n                    newItem.toolbar = [\n                        \"undo redo | bold italic underline | fontselect fontsizeselect\",\n                        \"forecolor backcolor | alignleft aligncenter alignright alignfull | numlist bullist outdent indent\"\n                    ];\n                } else if (newItem.type == \"table\") {\n                    // table\n                    newItem.toolbar =\n                        \"table tabledelete | tableprops tablerowprops tablecellprops | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol\";\n                } else if (newItem.type == \"image\") {\n                    // image\n                    newItem.toolbar = \"undo redo | image\";\n                } else if (newItem.type == \"media\") {\n                    // media\n                    newItem.toolbar = \"undo redo | media\";\n                }\n                return newItem;\n            });\n        }\n    },\n    mounted() {\n        toastr.options = this.toastrOptions;\n\n        const el = document.querySelector(\"#cbdata\");\n        this.cbData = JSON.parse(el.dataset.cbdata);\n\n        // 取得資料\n        this.getContent();\n    },\n    methods: {\n        removeAt(idx) {\n            this.defaultContents.splice(idx, 1);\n        },\n        log(evt) {\n            // rerender tinymce\n            console.log(evt);\n            this.foreRenderKey += 1;\n        },\n        onChoose() {\n            // console.log(\"choose\");\n        },\n        onUnchoose() {\n            // console.log(\"unchoose\");\n        },\n        onBlur() {\n            // console.log(\"onblur\");\n            setTimeout(() => {\n                this.closeEdit();\n            }, 100);\n        },\n        onClone(evt) {\n            // 改寫 clone 為 deep copy 修改值才不會變更原本的\n            return { ...evt };\n        },\n        editContent(idx) {\n            // this.closeEdit();\n            this.$set(this.defaultContents[idx], \"editorEnable\", true);\n        },\n        closeEdit() {\n            this.defaultContents.forEach((item, idx) => {\n                this.$set(this.defaultContents[idx], \"editorEnable\", false);\n            });\n        },\n\n        getContent() {\n            fetch(\n                this.cbData.api +\n                    `applySn/${this.cbData.applySn}/languageKey/${this.cbData.languageKey}`\n            )\n                .then(res => res.json())\n                .catch(err => {\n                    toastr[\"error\"](\"Error\", err);\n                })\n                .then(data => {\n                    if (data.data) {\n                        this.defaultContents = data.data;\n                    }\n                });\n        },\n        saveEditor() {\n            let formData = new FormData();\n\n            formData.append(\"applySn\", this.cbData.applySn);\n            formData.append(\"languageKey\", this.cbData.languageKey);\n            formData.append(\"data\", JSON.stringify(this.defaultContents));\n\n            fetch(this.cbData.api, {\n                method: \"POST\",\n                body: formData\n            })\n                .then(res => res.json())\n                .catch(err => {\n                    toastr[\"error\"](\"Error\", err);\n                })\n                .then(res => {\n                    if (res.success) {\n                        toastr[\"success\"](\"Success\", \"儲存成功\");\n                    } else {\n                        toastr[\"error\"](\"Error\", res.message);\n                    }\n                });\n        },\n        image_upload_handler(blobInfo, success, failure, progress) {\n            var xhr, formData;\n\n            xhr = new XMLHttpRequest();\n            xhr.withCredentials = false;\n            xhr.open(\"POST\", this.cbData.uploadApi);\n\n            xhr.upload.onprogress = function(e) {\n                progress((e.loaded / e.total) * 100);\n            };\n\n            xhr.onload = function() {\n                var json;\n\n                if (xhr.status === 403) {\n                    failure(\"HTTP Error: \" + xhr.status, { remove: true });\n                    return;\n                }\n\n                if (xhr.status < 200 || xhr.status >= 300) {\n                    failure(\"HTTP Error: \" + xhr.status);\n                    return;\n                }\n\n                json = JSON.parse(xhr.responseText);\n                if (!json || typeof json.url != \"string\") {\n                    failure(\"Invalid JSON: \" + xhr.responseText);\n                    return;\n                }\n\n                success(json.url);\n            };\n\n            xhr.onerror = function() {\n                failure(\n                    \"Image upload failed due to a XHR Transport error. Code: \" +\n                        xhr.status\n                );\n            };\n\n            formData = new FormData();\n            formData.append(\"uid\", this.cbData.applySn);\n            formData.append(\"file\", blobInfo.blob(), blobInfo.filename());\n\n            xhr.send(formData);\n        }\n    }\n};\n</script>\n<style lang=\"scss\">\n#cbdata {\n    display: none;\n}\n\n.tinymce-editor img {\n    max-width: 100%;\n}\n\n.tinymce-editor *[contentEditable=\"true\"]:focus,\n.tinymce-editor *[contentEditable=\"true\"]:hover {\n    border-color: #80bdff;\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem #007bff40;\n    border-radius: 0.25rem;\n}\n.mce-object-iframe {\n    position: relative;\n    padding-bottom: 56.25%;\n    padding-top: 30px;\n    height: 0;\n    overflow: hidden;\n    display: block !important;\n}\n\n.mce-object-iframe iframe,\n.mce-object-iframe object,\n.mce-object-iframe embed {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WebEditor.vue?vue&type=template&id=78f19b06&\"\nimport script from \"./WebEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./WebEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./WebEditor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport WebEditor from \"./components/WebEditor.vue\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n    render: function(h) {\n        const app = h(WebEditor);\n        const el = document.querySelector(\"#web_editor\");\n        const cbdata = h(\"span\", {\n            attrs: {\n                id: \"cbdata\",\n                \"data-cbdata\": el.dataset.cbdata,\n            },\n        });\n\n        return h(\"div\", [app, cbdata]);\n    },\n}).$mount(\"#web_editor\");"],"sourceRoot":""}