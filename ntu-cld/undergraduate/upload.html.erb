
<!-- ntu: 在學生 - 獎學金資料上傳 -->

<div class="container-lg">
	<div class="page-content">
	    <aside class="aside offcanvas-collapse">
			<div class="scrollbar-inner">
				<div class="user-wrapper">
				    <p><i class="far fa-user-circle"></i></p>
                    <div class="dropdown">
                        <button class="dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Angela Winson
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#">Change password</a></li>
                            <li><a class="dropdown-item" href="#">Log out</a></li>
                        </ul>
                    </div>
				</div>
		        <div class="sidenav">
                    <ul class="navigation menu-item">
                        <li><a class="nav-item" href="#">首頁</a></li>
                        <li><a class="nav-item" href="#">報名紀錄查詢</a></li>
						<li><a class="nav-item" href="#">繳費作業</a></li>
                        <li><a class="nav-item current" href="#">獎學金資料上傳</a></li>
						<li><a class="nav-item" href="#">表單申請紀錄</a></li>
                    </ul>
				</div>
			</div>
		</aside>
		<div id="widget-overlay"></div>
		<main class="main">
			<h2 class="mb-4">獎學金資料上傳</h2>
            <section class="application-section">
				<h4 class="section-title unafter">
                    <span>申請人資料</span>
                </h4>
                <div class="row">
					<div class="col-sm-6">
                        <div class="form-group">
                            <label for="idNumber" class="form-label">
                                統一證號或居留證號9碼
                            </label>
                            <input type="text" class="form-control" id="idNumber">
                        </div>
					</div>
					<div class="col-sm-6">
                        <div class="form-group">
                            <label for="idNumber" class="form-label">
                                抵台日期
                            </label>
                            <div class="input-group date" id="datepicker">
                                <input class="form-control" placeholder="MM/DD/YYYY" />
                                <span class="input-group-append input-group-addon">
                                    <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                                </span>
                            </div>
                        </div>
					</div>
					<div class="col-sm-6">
                        <div class="form-group">
                            <label for="idNumber" class="form-label">
                                開戶姓名
                            </label>
                            <input type="text" class="form-control" id="idNumber">
							<div class="form-text">(中英文)以存簿封面為準</div>
                        </div>
					</div>
					<div class="col-sm-6">
                        <div class="form-group">
                            <label for="idNumber" class="form-label">
                                郵局局帳號14碼
                            </label>
                            <input type="text" class="form-control" id="idNumber">
                        </div>
					</div>
                </div>
            </section>
			
			<section class="application-section refund-wrapper">
				<h4 class="section-title unafter">
                    <span>上傳文件</span>
                </h4>
				<p>可上傳檔案格式為 PDF 或圖檔</p>
                <div class="upload-wrapper">
					
					<!-- 檔案上傳後多出 .file-pill，當再次上傳時則覆蓋上一筆，點選檔名另開視窗觀看文件 -->
                    <div class="upload-item">
                        <h4>紙本統一證號基資表ID NO</h4>
                        <div class="form-group">
                              <input class="form-control" type="file" id="photoFile">
                        </div>
                        <div class="upload-ft">
							<div class="ft-left">
								<span>
                                    <button type="button" class="btn btn-primary">Upload</button>
								</span>
								<span>
                                    <div class="file-pill">
                                        <!-- 避免檔名過長有限制最大寬度 140px，超出時會字元會省略 -->
                                        <a href="#" target="_blank" class="filename">file_name.jpg</a>
                                        <button type="button" class="btn btn-sm btn-rounded btn-dark" title="移除">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
								</span>
							</div>
                            <button type="button" class="btn btn-history btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#uploadHistory"><i class="fas fa-history"></i> 上傳紀錄</button>
                        </div>
                    </div>
					
					<% (1..6).map do |i| %>
					<div class="upload-item">
                        <h4><%= lorem_sentence %></h4>
                        <div class="form-group">
                              <input class="form-control" type="file" id="photoFile">
                        </div>
                        <div class="upload-ft">
							<div class="ft-left">
								<span>
                                    <button type="button" class="btn btn-primary">Upload</button>
								</span>
							</div>
                            <button type="button" class="btn btn-history btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#uploadHistory"><i class="fas fa-history"></i> 上傳紀錄</button>
                        </div>
                    </div>
					<% end %>
					
                </div>
            </section>
			<div class="form-action">
                <button type="button" class="btn btn-lg btn-primary">送出申請資料</button>
			</div>
		</main>
	</div>
</div>


<%= render :partial => "/partials/upload-history" %>

<% content_for :js do %>
    <!-- sidenav scrollbar -->
    <script src="../javascripts/jquery.scrollbar.min.js"></script>
    <script>
        jQuery(document).ready(function(){
            jQuery('.scrollbar-inner').scrollbar();
        });
	</script>

    <!-- sidenav open -->
	<script>
        (function () {
          'use strict'

          document.querySelector('#navbarSideCollapse').addEventListener('click', function () {
            document.querySelector('.offcanvas-collapse').classList.toggle('open')
          })
        })()
	</script>

    <!-- sidenav close -->
    <script>
        $("#widget-overlay").click(function(){
            $(".offcanvas-collapse").removeClass("open");
        });
	</script>

    <!-- date & time picker -->
    <script src="../javascripts/moment.min.js"></script>
    <script src="../javascripts/bootstrap-datetimepicker.min.js"></script>
    <script>
        if (/Mobi/.test(navigator.userAgent)) {
            // if mobile device, use native pickers
            $(".date input").attr("type", "date");
            $(".time input").attr("type", "time");
        } else {
            // if desktop device, use DateTimePicker
            $("#datepicker").datetimepicker({
                useCurrent: false,
                format: "DD-MMM-YYYY",
                showTodayButton: true,
                icons: {
                    next: "fa fa-chevron-right",
                    previous: "fa fa-chevron-left",
                    today: "todayText",
                },
            });
            $("#timepicker").datetimepicker({
                format: "LT",
                icons: {
                    up: "fa fa-chevron-up",
                    down: "fa fa-chevron-down",
                },
            });
        }
	</script>
<% end %>

