<% I18n.locale = "zh-TW" %>
<!doctype html>
<html lang="<%= I18n.locale %>" class="no-js">
<head>
    <%= render :partial => "/partials/head" %>
</head>
<body>
	<div class="workspace" canvas="container">
        <div class="pages general-pages">
            <%= render :partial => "/partials/header" %>
            <div class="content">
                <%= yield %>
            </div>
            <a id="backtop"></a>
        </div>
		<%= render :partial => "/partials/footer" %>
        <%= render :partial => "/partials/search" %>
	</div>
	
    <script src="../javascripts/jquery-3.7.1.min.js"></script>
    <script src="../javascripts/popper.min.js"></script>
    <script src="../javascripts/bootstrap.bundle.min.js"></script>
    
    <!-- Back to top -->
    <script>
        var btn = $('#backtop');

        $(window).scroll(function() {
          if ($(window).scrollTop() > 600) {
            btn.addClass('show');
          } else {
            btn.removeClass('show');
          }
        });

        btn.on('click', function(e) {
          e.preventDefault();
          $('html, body').animate({scrollTop:0}, '300');
        });
    </script>
	
    <!-- sidenav scrollbar -->
    <script src="../javascripts/jquery.scrollbar.min.js"></script>
    <script>
        jQuery(document).ready(function(){
            jQuery('.scrollbar-inner').scrollbar();
        });
	</script>

    <!-- sidenav open -->
	<script>
        (function () {
          'use strict'

          document.querySelector('#navbarSideCollapse').addEventListener('click', function () {
            document.querySelector('.offcanvas-collapse').classList.toggle('open')
          })
        })()
	</script>

    <!-- sidenav close -->
    <script>
        $("#widget-overlay").click(function(){
            $(".offcanvas-collapse").removeClass("open");
        });
	</script>

    <!-- RWD Navbar -->
    <script>
        window.addEventListener('DOMContentLoaded', function() {
            const offcanvasCustomNavbar = document.getElementById('offcanvasCustomNavbar');

            function addOffcanvasClass() {
                if (window.innerWidth < 1400) {
                    offcanvasCustomNavbar.classList.add('offcanvas');
                } else {
                    offcanvasCustomNavbar.classList.remove('offcanvas');
                }
            }

            addOffcanvasClass(); // 首次加载时检查窗口大小

            window.addEventListener('resize', addOffcanvasClass); // 监听窗口大小变化
        });
    </script>
    
    <!-- RWD SideNav -->
    <script>
        window.addEventListener('DOMContentLoaded', function() {
            const offcanvasSideNav = document.getElementById('offcanvasSideNav');

            function addOffcanvasClass() {
                if (window.innerWidth < 1200) {
                    offcanvasSideNav.classList.add('offcanvas');
                } else {
                    offcanvasSideNav.classList.remove('offcanvas');
                }
            }

            addOffcanvasClass(); // 首次加载时检查窗口大小

            window.addEventListener('resize', addOffcanvasClass); // 监听窗口大小变化
        });
    </script>

	
    <%= yield :js %>
</body>
</html>
