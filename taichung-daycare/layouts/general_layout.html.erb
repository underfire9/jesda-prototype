<% I18n.locale = "zh-TW" %>
<!doctype html>
<html lang="<%= I18n.locale %>" class="no-js">
<head>
    <%= render :partial => "/partials/head" %>
</head>
<body>
	<div class="workspace" canvas="container">
        <div class="pages general-pages">
            <%= render :partial => "/partials/header" %>
            <div class="content">
                <%= yield %>
            </div>
            <a id="backtop"></a>
        </div>
		<%= render :partial => "/partials/footer" %>
	</div>
	
    <script src="../javascripts/jquery-3.7.1.min.js"></script>
    <script src="../javascripts/popper.min.js"></script>
    <script src="../javascripts/bootstrap.bundle.min.js"></script>
    
    <!-- Back to top -->
    <script>
        var btn = $('#backtop');

        $(window).scroll(function() {
          if ($(window).scrollTop() > 600) {
            btn.addClass('show');
          } else {
            btn.removeClass('show');
          }
        });

        btn.on('click', function(e) {
          e.preventDefault();
          $('html, body').animate({scrollTop:0}, '300');
        });
    </script>
    
    <!-- Header nav show -->
    <script>
        $(document).ready(function() {
            $('#nav-toggler').click(function() {
                $('.header-nav').toggleClass('nshow');

                if ($('.header-nav').hasClass('nshow')) {
                    $('body').css('overflow', 'hidden'); // 鎖定視窗捲軸
                } else {
                    $('body').css('overflow', ''); // 解除鎖定
                }
            });
        });
    </script>
	
    <!-- sidenav scrollbar -->
    <script src="../javascripts/jquery.scrollbar.min.js"></script>
    <script>
        jQuery(document).ready(function(){
            jQuery('.scrollbar-inner').scrollbar();
        });
	</script>

    <!-- sidenav open -->
	<script>
        (function () {
          'use strict'

          document.querySelector('#navbarSideCollapse').addEventListener('click', function () {
            document.querySelector('.offcanvas-collapse').classList.toggle('open')
          })
        })()
	</script>

    <!-- sidenav close -->
    <script>
        $("#widget-overlay").click(function(){
            $(".offcanvas-collapse").removeClass("open");
        });
	</script>
	
    <%= yield :js %>
</body>
</html>
