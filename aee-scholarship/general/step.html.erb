<!-- template: 步驟範本 -->

<div class="container-lg">
	
	<!-- 當 sidebar 需要 sticky 時 page-content 加上 .has-sticky -->
	<div class="page-content has-sticky">
	    <aside class="aside offcanvas-collapse">
			<div class="scrollbar-inner">
		        <div class="sidenav">
					
					<!-- 因 step 有 position，當 main 高度不足時 step 會與 footer 重疊，因此需要前端協助用 js 判斷 .step-wrap 的高度後，將 min-height 塞進 .main 裡 -->
					<div class="step-wrap side-sticky">
                        <ul class="step-navigation menu-item">
                            <li class="done">
                                <span class="nav-item">
                                    <span class="step-briefly">個資使用同意書</span>
									<span class="step-desc">填寫報名表所需資訊</span>
                                </span>
                            </li>
							<li class="current">
                                <span class="nav-item">
                                    <span class="step-briefly">報名表</span>
									<span class="step-desc">填寫報名表所需資訊</span>
                                </span>
                            </li>
							<li class="">
                                <span class="nav-item">
                                    <span class="step-briefly">英檢成績</span>
									<span class="step-desc">填寫英檢成績</span>
                                </span>
                            </li>
							<li class="">
                                <span class="nav-item">
                                    <span class="step-briefly">修課紀錄</span>
									<span class="step-desc">填寫EMI專業課程修課紀錄</span>
                                </span>
                            </li>
							<li class="">
                                <span class="nav-item">
                                    <span class="step-briefly">繳交文件</span>
									<span class="step-desc">上傳報名所需文件</span>
                                </span>
                            </li>
							<li class="">
                                <span class="nav-item">
                                    <span class="step-briefly">送出報名</span>
									<span class="step-desc">預覽並送出報名表</span>
                                </span>
                            </li>
                        </ul>
					</div>
					
				</div>
			</div>
		</aside>
		<div id="widget-overlay"></div>
		<main class="main">
			<div>
			    <% (1..3).map do |i| %>
				<p><%= lorem_paragraphs(4) %></p>
				<% end %>
			</div>
		</main>
	</div>
</div>



<% content_for :js do %>
    <script>
        var stickEl = $('.side-sticky'),
          stickyElTop = stickEl.offset().top;

        var sticky = function(){  
          var scrollTop = $(window).scrollTop();  

          if (stickyElTop < scrollTop+20) {   
              stickEl.addClass('is-fixed');  
          } else {  
              stickEl.removeClass('is-fixed');   
          }  
        };

        $(window).scroll(function() {
          sticky();
        }); 
    </script>
<% end %>

