<!-- template: UI - 表單 -->

<div class="container-lg">
	<div class="page-content has-sticky">
	    <aside class="aside offcanvas-collapse">
			<div class="scrollbar-inner">
		        <div class="sidenav">
					<div class="step-wrap side-sticky">
                        <ul class="step-navigation menu-item">
                            <li class="done">
                                <span class="nav-item">
                                    <span class="step-briefly"><%= lorem_words(3) %></span>
									<span class="step-desc"><%= lorem_words(3) %></span>
                                </span>
                            </li>
							<li class="done">
                                <span class="nav-item">
                                    <span class="step-briefly"><%= lorem_words(3) %></span>
									<span class="step-desc"><%= lorem_words(3) %></span>
                                </span>
                            </li>
							<li class="current">
                                <span class="nav-item">
                                    <span class="step-briefly"><%= lorem_words(3) %></span>
									<span class="step-desc"><%= lorem_words(3) %></span>
                                </span>
                            </li>
							<li>
                                <span class="nav-item">
                                    <span class="step-briefly"><%= lorem_words(3) %></span>
									<span class="step-desc"><%= lorem_words(3) %></span>
                                </span>
                            </li>
                        </ul>
					</div>
					
				</div>
			</div>
		</aside>
		<div id="widget-overlay"></div>
		<main class="main">
			<div class="page-title">
			    <h3>表單</h3>
			</div>
            <div class="notice-wrapper">
                <p class="mb-0"><a href="https://getbootstrap.com/docs/5.3/forms/overview/">Bootstrap Forms</a></p>
                <p class="mb-0">Date Time picker 為 html5 原生</p>
            </div>
			<section class="section">
                <div class="section-title">
                    <h4>組合欄位</h4>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="form-group">
                            <label for="exampleInput03" class="form-label">
                                <span class="required">*</span> 姓名
                            </label>
                            <input id="exampleInput03" class="form-control" type="text" aria-label="姓名">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label for="exampleInput04" class="form-label">關係</label>
                            <input id="exampleInput04" class="form-control" type="text" aria-label="關係">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label for="exampleInput05" class="form-label">電話</label>
                            <input id="exampleInput05" class="form-control" type="text" aria-label="電話">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label for="exampleInput06" class="form-label">手機號碼</label>
                            <input id="exampleInput06" class="form-control" type="text" aria-label="手機號碼">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label for="exampleInput07" class="form-label">聯絡信箱</label>
                            <input id="exampleInput07" class="form-control" type="email" aria-label="聯絡信箱">
                        </div>
                    </div>
                </div>
                <div class="text-start">
                    <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="fas fa-plus"></i> 新增些什麼 Modal</button>
                </div>
			</section>
			
            <section class="section">
                <div class="section-title">
                    <h4>Checks and radios</h4>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label">Radio</label>
                            <div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" />
                                    <label class="form-check-label" for="flexRadioDefault1">
                                        Default radio
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" checked />
                                    <label class="form-check-label" for="flexRadioDefault2">
                                        Default checked radio
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label">Checkbox</label>
                            <div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" />
                                    <label class="form-check-label" for="flexCheckDefault">
                                        Default checkbox
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked />
                                    <label class="form-check-label" for="flexCheckChecked">
                                        Checked checkbox
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label">Inline radio</label>
                            <div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
                                    <label class="form-check-label" for="inlineRadio1">是</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                                    <label class="form-check-label" for="inlineRadio2">否</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            <label class="form-label">Inline checkbox</label>
                            <div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1" />
                                    <label class="form-check-label" for="inlineCheckbox1">1</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2" />
                                    <label class="form-check-label" for="inlineCheckbox2">2</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option3" disabled />
                                    <label class="form-check-label" for="inlineCheckbox3">3 (disabled)</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
			</section>
            
            <section class="section">
                <div class="section-title">
                    <h4>文件上傳</h4>
                </div>
                <div class="upload-wrapper fluid-wrapper">
                    <div class="row">
                        <div class="col-6">
                            <div class="upload-item">
                                <h4>成果報告書</h4>
                                <p>和<%= lorem_paragraph %></p>
                                <div class="form-group">
                                      <input class="form-control" type="file" id="photoFile">
                                </div>
                                <div class="ft-action">

                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="upload-item">
                                <h4>計畫書</h4>
                                <p><%= lorem_paragraph %></p>
                                <div class="form-group">
                                      <input class="form-control" type="file" id="photoFile">
                                </div>
                                <div class="ft-action">
                                    <div class="file-pill ms-0">
                                        <!-- 選擇檔案即上傳，省略點擊按鈕動作 -->
                                        <!-- 點擊 <a> 可預覽 -->
                                        <!-- 避免檔名過長有限制最大寬度 240px，超出時會字元會省略，切記標籤加上 title -->
                                        <a href="#" target="_blank" class="filename" title="避免檔名過長有限制最大寬度.jpg">避免檔名過長有限制最大寬度避免檔名過長有限制最大寬度.jpg</a>
                                        <button type="button" class="btn btn-sm btn-rounded btn-dark" title="移除">
                                            <i class="fas fa-times"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
			</section>
            
            <section class="section">
                <div class="section-title">
                    <h4>Date Time picker</h4>
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="form-group">
                            <label for="hangUpForm1" class="form-label">Date</label>
                            <input type="date" class="form-control" id="hangUpForm1" name="trip-start1" value="2024-01-20" min="2024-01-01" max="2024-12-31">
                        </div>
                    </div>
                    
                    <div class="col-6">
                        <div class="form-group">
                            <label for="hangUpForm2" class="form-label">Time</label>
                            <input class="form-control" type="time" id="hangUpForm2" name="appt">
                        </div>
                    </div>
                </div>
			</section>
            
            <section class="section">
                <div class="section-title">
                    <h4>上傳頭像</h4>
                </div>
                <div class="avatar-wrapper">
                    <div class="inner">
                        <div class="avatar">
                            <img class="profile-pic" src="../assets/default-avatar.svg" />
                        </div>
                        <div class="p-image">
                            <i class="fa fa-camera upload-button"></i>
                            <input class="file-upload" type="file" accept="image/*" />
                        </div>
                    </div>
                    <div class="form-text"><%= lorem_sentence %></div>
                </div>
			</section>

            <div class="form-action">
                <button type="button" class="btn btn-lg btn-primary">完成註記</button>
                <button type="button" class="btn btn-lg btn-primary">完成註記並往下一作業 <i class="fas fa-long-arrow-alt-right"></i></button>
                <span class="backhome"><a href="#" class="btn btn-lg btn-link"><i class="fas fa-long-arrow-alt-left"></i> 回申請首頁</a></span>
            </div>
		</main>
	</div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">新增些什麼 Modal</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <div class="form-group">
                    <%= lorem_paragraphs(3) %>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">關閉</button>
                <button type="button" class="btn btn-primary">儲存</button>
            </div>
        </div>
    </div>
</div>

<% content_for :js do %>

<script>
    var stickEl = $('.side-sticky'),
      stickyElTop = stickEl.offset().top;

    var sticky = function(){  
      var scrollTop = $(window).scrollTop();  

      if (stickyElTop < scrollTop+20) {   
          stickEl.addClass('is-fixed');  
      } else {  
          stickEl.removeClass('is-fixed');   
      }  
    };

    $(window).scroll(function() {
      sticky();
    }); 
</script>

<!-- 監看 .aside 高度 -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // 獲取 .aside 和 .main 元素
    var asideElement = document.querySelector('.aside');
    var mainElement = document.querySelector('.main');

    // 檢查是否找到了 .aside 和 .main
    if (asideElement && mainElement) {
        // 監聽窗口大小變化事件
        window.addEventListener('resize', function() {
            // 獲取 .aside 的內容高度
            var asideContentHeight = asideElement.scrollHeight;

            // 設置 .main 的最小高度
            mainElement.style.minHeight = asideContentHeight + 'px';
        });

        // 在窗口加載時觸發一次，以確保最小高度正確設置
        window.dispatchEvent(new Event('resize'));
    }
});
</script>

<!-- 上傳頭像 -->
<script>
$(document).ready(function() {

    
    var readURL = function(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('.profile-pic').attr('src', e.target.result);
            }
    
            reader.readAsDataURL(input.files[0]);
        }
    }
    

    $(".file-upload").on('change', function(){
        readURL(this);
    });
    
    $(".upload-button").on('click', function() {
       $(".file-upload").click();
    });
});
</script>
<% end %>
